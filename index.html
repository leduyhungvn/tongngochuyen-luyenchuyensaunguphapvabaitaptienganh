<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BÀI TẬP TIẾNG ANH GS</title>
    <style>
        /* --- CÀI ĐẶT CHUNG --- */
        * { box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            max-width: 816px;
            margin: 0 auto;
            padding: 24px;
            background-color: #f5f5f5;
            color: #333;
            font-size: 17px; /* Tăng từ 16px lên 17px */
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* --- CÁC MÀN HÌNH --- */
        .grade-screen, .login-screen, .quiz-screen, .result-screen {
            width: 100%;
            background-color: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 2.4px 6px rgba(0,0,0,0.1);
            margin-bottom: 24px;
        }

        /* --- CÁC NÚT BẤM GIAO DIỆN CHÍNH --- */
        .grade-btn {
            width: 100%;
            padding: 20px; /* Tăng từ 18px */
            margin: 12px 0;
            border: none;
            border-radius: 6px;
            font-size: 21px; /* Tăng từ 19.2px */
            font-weight: bold;
            cursor: pointer;
            text-align: center;
            transition: opacity 0.2s;
        }
        .grade-6 { background-color: #4CAF50; color: white; }
        .grade-7 { background-color: #2196F3; color: white; }
        .grade-8 { background-color: #FF9800; color: white; }
        .grade-9 { background-color: #9C27B0; color: white; }
        .grade-btn:hover { opacity: 0.9; }
        
        input, button, select {
            width: 100%;
            padding: 16px; /* Tăng từ 14.4px */
            margin: 12px 0; /* Tăng từ 10px */
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 21px; /* Tăng từ 19.2px */
        }
        button { color: white; border: none; cursor: pointer; }
        button:hover { opacity: 0.9; }
        
        .start-btn { background-color: #4CAF50; }
        .back-btn { background-color: #607d8b; }
        
        /* --- QUIZ SCREEN UPDATE --- */
        /* Tiêu đề màn hình */
        #quiz-title.screen-title {
            margin-bottom: 14px !important;
            font-size: 27px; /* Tăng từ 24px */
        }

        /* Thanh thời gian */
        .timer-container {
            width: 100%;
            background-color: #f1f1f1;
            border-radius: 6px;
            margin-bottom: 12px !important;
            height: 20px; /* Tăng nhẹ từ 18px */
        }
        .timer-bar {
            height: 100%;
            background-color: #FFD700;
            border-radius: 6px;
            width: 100%;
            transition: width 0.1s linear, background-color 0.3s;
        }
        
        /* Hàng thông tin: Số câu và Chuỗi đúng */
        .stats-info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 12px !important;
        }

        .question-counter, .streak {
            margin: 0;
            font-weight: bold;
            font-size: 18px; /* Tăng từ 16px */
            color: #555;
        }
        
        .streak { color: #FF9800; }
        .question-counter { color: #2196F3; }

        .question {
            font-size: 21px; /* Tăng từ 19.2px */
            font-weight: bold;
            margin-bottom: 10px !important;
            text-align: center;
        }

        .word-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 12px 0 20px 0 !important;
        }
        .word {
            font-size: 30px; /* Tăng từ 26.4px */
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
        }

        .options { display: flex; flex-direction: column; gap: 10px; } /* Tăng gap từ 6px lên 10px để thoáng hơn */
        .option {
            padding: 18px; /* Tăng từ 14.4px để ô to hơn, dễ bấm */
            margin: 0;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            text-align: left;
            font-size: 21px; /* Tăng từ 19.2px */
            transition: background-color 0.2s;
        }
        .option:hover { background-color: #e9e9e9; }
        
        .correct { background-color: #4CAF50; color: white; border-color: #4CAF50; }
        .incorrect { background-color: #f44336; color: white; border-color: #f44336; }
        .hidden { display: none !important; }
        
        /* --- LOGIN SCREEN --- */
        .form-group { margin-bottom: 20px; } /* Tăng từ 18px */
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 21px; } /* Tăng từ 19.2px */
        .screen-title { text-align: center; margin-bottom: 24px; color: #2c3e50; font-size: 32px; } /* Tăng từ 28.8px */
        
        .contact-info {
            margin-bottom: 24px;
            background-color: #f8f9fa;
            padding: 20px; /* Tăng từ 18px */
            border-radius: 10px;
            border-left: 5px solid #2196F3;
        }
        .contact-info h3 { color: #2c3e50; margin-bottom: 12px; font-size: 21px; } /* Tăng từ 19.2px */
        .contact-info p { margin: 8px 0; padding-left: 20px; font-size: 17px; } /* Tăng từ 15.6px */
        .restart-btn { background-color: #FF9800; }
        .new-game-btn { background-color: #4CAF50; }
        .programming-info {
            margin-top: 18px;
            text-align: center;
            font-style: italic;
            color: #607d8b;
            font-size: 17px; /* Tăng từ 15.6px */
        }
        
        /* --- CSS NÚT KIỂM TRA TỔNG HỢP --- */
        .test-buttons-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 14px; /* Tăng từ 12px */
            margin: 24px 0;
            width: 100%;
        }
        .test-btn {
            padding: 16px; /* Tăng từ 14.4px */
            margin: 0;
            border: none;
            border-radius: 6px;
            font-size: 19px; /* Tăng từ 16.8px */
            font-weight: bold;
            cursor: pointer;
            text-align: center;
        }
        .test-btn:hover {
            opacity: 0.9;
            transform: translateY(-2.4px);
            transition: all 0.2s ease;
        }
        .test-u1-u3 { background-color: #FF6B6B; color: white; }
        .test-u4-u6 { background-color: #4ECDC4; color: white; }
        .test-u1-u6 { background-color: #FFD166; color: #2c3e50; }
        .test-u7-u9 { background-color: #A8DADC; color: #2c3e50; }
        .test-u10-u12 { background-color: #FF9A76; color: white; }
        .test-u7-u12 { background-color: #9B5DE5; color: white; }
        .test-overall {
            background-color: #00BBF9;
            color: white;
            grid-column: span 2;
            padding: 20px;
            font-size: 21px; /* Tăng từ 19.2px */
            margin-top: 14px;
        }
        .test-info { font-size: 16px; color: #666; text-align: center; margin-top: 12px; font-style: italic; } /* Tăng từ 14.4px */

        /* --- GIAO DIỆN MÀN HÌNH KẾT QUẢ (RESULT SCREEN) --- */
        
        .result-dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px; /* Tăng từ 18px */
            margin-bottom: 24px;
            background: #fff;
        }

        #result-test-type {
            text-align: center;
            font-weight: bold;
            color: #2196F3;
            margin-bottom: 20px;
            font-size: 22px; /* Tăng từ 20.2px */
        }

        .result-cell-main {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px 12px; /* Tăng từ 18px */
            border: 1px solid #eee;
            border-radius: 12px;
            background-color: #fafafa;
        }

        .res-name-new {
            font-size: 36px; /* Tăng từ 32.4px */
            font-weight: 800;
            color: #1976D2;
            margin-bottom: 8px;
            text-align: center;
            line-height: 1.2;
        }

        .chart-wrapper-new {
            position: relative;
            width: 210px; /* Tăng từ 192px */
            height: 210px;
            margin: 14px 0;
        }

        .donut-chart-svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
            transform-origin: center;
        }

        .circle-bg {
            fill: none;
            stroke: #e0e0e0;
            stroke-width: 8; /* Tăng từ 7.2 */
        }

        .circle-progress {
            fill: none;
            stroke-width: 8; /* Tăng từ 7.2 */
            stroke-linecap: butt;
            transition: stroke-dasharray 1s ease-out;
        }

        .chart-center-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            line-height: 1.2;
        }
        
        .score-big {
            display: block;
            font-size: 42px; /* Tăng từ 38.4px */
            font-weight: 900;
            margin-bottom: 4px;
            transition: color 0.5s ease;
        }
        
        .score-label {
            display: block;
            font-size: 18px; /* Tăng từ 16.8px */
            color: #666;
            font-weight: bold;
        }

        .res-date-new {
            font-size: 17px; /* Tăng từ 15.6px */
            color: #1a237e;
            font-weight: 700;
            margin-top: 8px;
            text-align: center;
        }

        .result-cell-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 14px; /* Tăng từ 12px */
            padding: 14px; /* Tăng từ 12px */
            border: 1px solid #eee;
            border-radius: 12px;
            background-color: #fff;
        }

        .stat-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            padding: 12px 8px; /* Tăng từ 10px 6px */
            text-align: center;
            border: 1px solid #f0f0f0;
        }

        .stat-icon-box svg {
            width: 34px; /* Tăng từ 31.2px */
            height: 34px;
            margin-bottom: 6px;
        }

        .stat-value-text {
            font-size: 25px; /* Tăng từ 22.8px */
            font-weight: bold;
            line-height: 1.2;
            margin-bottom: 4px;
        }

        .stat-label-text {
            font-size: 17px; /* Tăng từ 15.6px */
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.6px;
        }

        .stat-start .stat-value-text { color: #2196F3; }
        .stat-start .stat-icon-box svg { fill: #2196F3; }

        .stat-end .stat-value-text { color: #F44336; }
        .stat-end .stat-icon-box svg { fill: #F44336; }

        .stat-streak .stat-value-text { color: #FF9800; }
        .stat-streak .stat-icon-box svg { fill: #FF9800; }

        .stat-time .stat-value-text { color: #9C27B0; }
        .stat-time .stat-icon-box svg { fill: #9C27B0; }

        .result-details-section {
            margin-top: 24px;
            border-top: 2.4px dashed #ddd;
            padding-top: 20px; /* Tăng từ 18px */
        }
        
        .wrong-questions-list { margin-top: 14px; padding-left: 24px; font-size: 19px; color: #d32f2f; } /* Tăng font */
        
        .answer-history {
            margin-top: 20px;
            width: 100%;
            border-collapse: collapse;
            font-size: 17px; /* Tăng từ 15.6px */
        }
        .answer-history th, .answer-history td {
            border: 1px solid #ddd;
            padding: 10px; /* Tăng từ 9.6px */
            text-align: left;
        }
        .answer-history th { background-color: #f2f2f2; font-weight: bold; }
        .answer-history tr:nth-child(even) { background-color: #f9f9f9; }

        /* --- MEDIA QUERY CHO MÀN HÌNH MÁY TÍNH LỚN (DESKTOP) --- */
        @media (min-width: 1024px) {
            body {
                font-size: 21px; /* Tăng từ 19.2px */
                max-width: 979px;
                padding: 28.8px;
            }
            
            .grade-screen, .login-screen, .quiz-screen, .result-screen {
                padding: 28.8px;
                border-radius: 14.4px;
                margin-bottom: 28.8px;
            }
            
            .grade-btn {
                padding: 24px; /* Tăng từ 21.6px */
                font-size: 25px; /* Tăng từ 23px */
            }
            
            input, button, select {
                padding: 19px; /* Tăng từ 17.3px */
                font-size: 25px; /* Tăng từ 23px */
            }
            
            .word {
                font-size: 35px; /* Tăng từ 31.7px */
            }
            
            .option {
                padding: 19px; /* Tăng từ 17.3px */
                font-size: 25px; /* Tăng từ 23px */
            }
            
            .res-name-new {
                font-size: 43px; /* Tăng từ 38.9px */
            }
            
            .chart-wrapper-new {
                width: 250px; /* Tăng từ 230px */
                height: 250px;
            }
            
            .score-big {
                font-size: 50px; /* Tăng từ 46.1px */
            }

            #result-test-type {
                font-size: 26px; /* Tăng từ 24.2px */
            }
        }

        /* --- RESPONSIVE MOBILE --- */
        @media (max-width: 480px) {
            body {
                max-width: 100%;
                padding: 12px;
                font-size: 17px; /* Tăng từ 16px */
            }
            
            .grade-screen, .login-screen, .quiz-screen, .result-screen {
                padding: 16px;
                border-radius: 10px;
                margin-bottom: 16px;
            }
            
            .grade-btn {
                padding: 14px; /* Tăng từ 12px */
                font-size: 18px; /* Tăng từ 16px */
                margin: 8px 0;
            }
            
            .screen-title {
                font-size: 22px !important; /* Tăng từ 20px */
                margin-bottom: 12px !important;
                line-height: 1.2;
            }

            .form-group {
                margin-bottom: 12px !important;
            }
            
            .form-group label {
                font-size: 16px; /* Tăng từ 14px */
                margin-bottom: 4px;
            }

            input, button, select {
                padding: 12px !important; /* Tăng từ 10px */
                margin: 6px 0 !important;
                font-size: 18px; /* Tăng từ 16px */
            }
            
            .start-btn {
                margin-top: 8px;
            }

            .test-buttons-container {
                margin: 14px 0 !important;
                gap: 8px; /* Tăng từ 6px */
            }

            .test-btn {
                padding: 10px; /* Tăng từ 8px */
                font-size: 15px; /* Tăng từ 13px */
                font-weight: bold;
            }
            
            .test-info {
                font-size: 14px; /* Tăng từ 12px */
                margin-top: 10px;
            }

            .back-btn {
                margin-top: 8px;
                padding: 12px;
            }

            .contact-info {
                padding: 14px;
                margin-top: 12px;
            }
            .contact-info h3 { font-size: 18px; margin-bottom: 10px; } /* Tăng từ 16px */
            .contact-info p { font-size: 15px; } /* Tăng từ 13px */
            
            #quiz-title.screen-title {
                font-size: 20px; /* Tăng từ 18px */
                margin-bottom: 10px !important;
            }

            .timer-container {
                height: 16px; /* Tăng từ 14px */
                margin-bottom: 10px !important;
            }
            
            .stats-info-row {
                margin-bottom: 10px !important;
            }
            
            .question-counter, .streak {
                font-size: 16px; /* Tăng từ 14px */
            }

            .question {
                font-size: 18px; /* Tăng từ 16px */
                margin-bottom: 8px !important;
            }

            .word {
                font-size: 24px; /* Tăng từ 22px */
            }
            
            .option {
                padding: 14px; /* Tăng từ 12px */
                font-size: 18px; /* Tăng từ 16px */
            }
            
            /* Result Screen Compact */
            .res-name-new {
                font-size: 26px; /* Tăng từ 24px */
            }

            .chart-wrapper-new {
                width: 150px; /* Tăng từ 140px */
                height: 150px;
            }
            
            .score-big { font-size: 30px; } /* Tăng từ 28px */
            .score-label { font-size: 14px; } /* Tăng từ 12px */
            
            .stat-value-text { 
                font-size: 19px; /* Tăng từ 17px */
            }
            .stat-label-text { 
                font-size: 13px; /* Tăng từ 11px */
            }
            .stat-icon-box svg {
                width: 26px; /* Tăng từ 24px */
                height: 26px;
            }
            
            .result-dashboard {
                gap: 12px; /* Tăng từ 10px */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Grade Selection Screen -->
        <div id="grade-screen" class="grade-screen">
            <h2 class="screen-title">CHỌN LỚP HỌC</h2>
            <button id="grade-6-btn" class="grade-btn grade-6">BÀI TẬP TIẾNG ANH E6 GS</button>
            <button id="grade-7-btn" class="grade-btn grade-7">BÀI TẬP TIẾNG ANH E7 GS</button>
            <button id="grade-8-btn" class="grade-btn grade-8">BÀI TẬP TIẾNG ANH E8 GS</button>
            <button id="grade-9-btn" class="grade-btn grade-9">BÀI TẬP TIẾNG ANH E9 GS</button>
            
            <div class="contact-info">
                <h3>THÔNG TIN LIÊN HỆ</h3>
                <h3>1. Teacher Minho</h3>
                <p>Giáo viên tiếng anh cấp 2,3 và ôn luyện đại học theo chuẩn IELTS, PTE</p>
                <p>Zalo: 0933.634.766</p>
                <p>Facebook: minho.letrong37</p>
                <p>Tiktok: minhoedutech</p>
                <h3>2. Thầy Hùng</h3>
                <p>Giáo viên dạy kèm toán, tiếng anh</p>
                <p>Zalo: 0967.095.025</p>
                <p>Facebook: leduyhung.vietnam</p>
                <p>Tiktok: leduyhungtiktok</p>
                <p>Youtube: byleduyhung</p>
                <div class="programming-info">
                    LẬP TRÌNH: NHẬN THIẾT KẾ LINK ÔN TẬP<br>
                    Tiếng Anh, Toán cơ bản định hướng tài liệu riêng
                </div>
            </div>
        </div>

        <!-- Login Screen -->
        <div id="login-screen" class="login-screen hidden">
            <h2 id="login-title" class="screen-title"></h2>
            <div class="form-group">
                <label for="username">Nhập tên của bạn:</label>
                <input type="text" id="username" placeholder="Tên của bạn">
            </div>
            
            <div class="form-group">
                <label for="unit-select">Chọn Unit làm bài:</label>
                <select id="unit-select"></select>
            </div>
            <div class="form-group">
                <label for="question-count">Chọn số câu hỏi:</label>
                <select id="question-count"></select>
            </div>
            <button id="start-btn" class="start-btn">Bắt đầu</button>
            <div class="test-buttons-container">
                <button id="test-u1-u3-btn" class="test-btn test-u1-u3">TEST U1-U3</button>
                <button id="test-u4-u6-btn" class="test-btn test-u4-u6">TEST U4-U6</button>
                <button id="test-u1-u6-btn" class="test-btn test-u1-u6">TEST U1-U6</button>
                <button id="test-u7-u9-btn" class="test-btn test-u7-u9">TEST U7-U9</button>
                <button id="test-u10-u12-btn" class="test-btn test-u10-u12">TEST U10-U12</button>
                <button id="test-u7-u12-btn" class="test-btn test-u7-u12">TEST U7-U12</button>
                <button id="test-overall-btn" class="test-btn test-overall">KIỂM TRA TỔNG HỢP</button>
            </div>
            <div class="test-info">Mỗi bài kiểm tra sẽ có 40 câu hỏi ngẫu nhiên</div>
            <button id="back-to-grade-btn" class="back-btn">Quay lại</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="quiz-screen hidden">
            <h2 id="quiz-title" class="screen-title"></h2>
            
            <div class="timer-container">
                <div id="timer-bar" class="timer-bar"></div>
            </div>

            <div class="stats-info-row">
                <div id="question-counter" class="question-counter">Câu 1/10</div>
                <div id="streak" class="streak">Chuỗi đúng: 0</div>
            </div>
            
            <div class="question">Chọn đáp án đúng:</div>
            <div class="word-container">
                <div id="word" class="word"></div>
            </div>
            <div id="options" class="options"></div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="result-screen hidden">
            <h2 id="result-title" class="screen-title">KẾT QUẢ BÀI LÀM</h2>
            <div id="result-test-type">UNIT NAME</div>

            <div class="result-dashboard">
                <div class="result-cell-main">
                    <div id="new-res-name" class="res-name-new">Tên Học Sinh</div>
                    <div class="chart-wrapper-new">
                        <svg class="donut-chart-svg" viewBox="0 0 36 36">
                            <circle class="circle-bg" cx="18" cy="18" r="14" stroke-width="6"/>
                            <circle id="new-chart-progress" class="circle-progress" 
                                cx="18" cy="18" r="14" stroke-width="6"
                                pathLength="100"/>
                        </svg>
                        <div class="chart-center-content">
                            <span id="new-score-center" class="score-big">0%</span>
                            <span id="new-percent-center" class="score-label">0/0</span>
                        </div>
                    </div>
                    <div id="new-res-date" class="res-date-new">dd/mm/yyyy</div>
                </div>

                <div class="result-cell-stats">
                    <div class="stat-box stat-start">
                        <div class="stat-icon-box">
                            <svg viewBox="0 0 24 24">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                            </svg>
                        </div>
                        <div id="new-res-start" class="stat-value-text">00:00</div>
                        <div class="stat-label-text">Bắt đầu</div>
                    </div>

                    <div class="stat-box stat-end">
                        <div class="stat-icon-box">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/> 
                            </svg>
                        </div>
                        <div id="new-res-end" class="stat-value-text">00:00</div>
                        <div class="stat-label-text">Kết thúc</div>
                    </div>

                    <div class="stat-box stat-streak">
                        <div class="stat-icon-box">
                            <svg viewBox="0 0 24 24">
                                <path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.22-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"/>
                            </svg>
                        </div>
                        <div id="new-res-streak" class="stat-value-text">0</div>
                        <div class="stat-label-text">Max Streak</div>
                    </div>

                    <div class="stat-box stat-time">
                        <div class="stat-icon-box">
                            <svg viewBox="0 0 24 24">
                                <path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.48-9 9s4.02 9 9 9 9-4.48 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
                            </svg>
                        </div>
                        <div id="new-res-total" class="stat-value-text">0s</div>
                        <div class="stat-label-text">Tổng thời gian</div>
                    </div>
                </div>
            </div>

            <div class="result-details-section">
                <div class="result-item" style="margin-bottom: 12px;">
                    <strong>Các câu bạn làm sai:</strong>
                    <div id="wrong-questions" class="wrong-questions-list"></div>
                </div>
                <div class="result-item">
                    <h3 style="font-size:21px; margin-bottom:8px;">Danh sách chi tiết:</h3>
                    <table id="answer-history" class="answer-history">
                        <thead>
                            <tr>
                                <th style="width: 10%;">STT</th>
                                <th style="width: 50%;">Câu hỏi</th>
                                <th style="width: 20%;">Đáp án</th>
                                <th style="width: 20%;">Đúng</th>
                            </tr>
                        </thead>
                        <tbody id="answer-history-body"></tbody>
                    </table>
                </div>
            </div>

            <button id="restart-btn" class="restart-btn">Làm lại</button>
            <button id="new-game-btn" class="new-game-btn">Chơi mới</button>
        </div>
    </div>

    <script>
        // --- DATA & LOGIC (GIỮ NGUYÊN) ---
        const allQuestions = {
            E6: {
                E6U1: [
                    { id: 1, word: "(100 percent) Selina and Rick ______ go to the beach on summer weekends.", correct: "always", wrong1: "never", wrong2: "sometimes", wrong3: "rarely" },
                    { id: 2, word: "(0 percent) They ______ stay at home.", correct: "never", wrong1: "always", wrong2: "often", wrong3: "usually" },
                    { id: 3, word: "(40 percent) ______ they bring their dog.", correct: "Sometimes", wrong1: "Always", wrong2: "Never", wrong3: "Usually" },
                    { id: 4, word: "(80 percent) They ______ to the beach.", correct: "usually go", wrong1: "never go", wrong2: "always go", wrong3: "sometimes go" },
                    { id: 5, word: "(20 percent) They ______ take the train.", correct: "rarely", wrong1: "always", wrong2: "usually", wrong3: "never" },
                    { id: 6, word: "(60 percent) They ______ friends with them.", correct: "often bring", wrong1: "never bring", wrong2: "always bring", wrong3: "rarely bring" },
                    { id: 7, word: "(20 percent) They ______ go swimming. They like to sit in the Sun.", correct: "rarely", wrong1: "always", wrong2: "usually", wrong3: "never" },
                    { id: 8, word: "(100 percent) Antonia and Tomas ______ stay in the city.", correct: "always", wrong1: "never", wrong2: "sometimes", wrong3: "rarely" },
                    { id: 9, word: "(80 percent) They ______ eat dinner at home.", correct: "usually", wrong1: "never", wrong2: "always", wrong3: "rarely" },
                    { id: 10, word: "(20 percent) They ______ eat dinner at restaurants.", correct: "seldom", wrong1: "always", wrong2: "usually", wrong3: "never" }
                ],
                E6U2: [
                    { id: 1, word: "My best friend ______ tall and slim.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 2, word: "She ______ long black hair.", correct: "has", wrong1: "have", wrong2: "is", wrong3: "are" },
                    { id: 3, word: "We ______ in the same class.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 4, word: "He ______ very funny.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 5, word: "My friends ______ kind and helpful.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 6, word: "She ______ glasses.", correct: "wears", wrong1: "wear", wrong2: "wearing", wrong3: "to wear" },
                    { id: 7, word: "They ______ football every weekend.", correct: "play", wrong1: "plays", wrong2: "playing", wrong3: "to play" },
                    { id: 8, word: "My friend ______ to music every evening.", correct: "listens", wrong1: "listen", wrong2: "listening", wrong3: "to listen" },
                    { id: 9, word: "We ______ our homework together.", correct: "do", wrong1: "does", wrong2: "doing", wrong3: "to do" },
                    { id: 10, word: "She ______ her teeth after meals.", correct: "brushes", wrong1: "brush", wrong2: "brushing", wrong3: "to brush" }
                ],
                E6U3: [
                    { id: 1, word: "My best friend ______ tall and slim.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 2, word: "She ______ long black hair.", correct: "has", wrong1: "have", wrong2: "is", wrong3: "are" },
                    { id: 3, word: "We ______ in the same class.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 4, word: "He ______ very funny.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 5, word: "My friends ______ kind and helpful.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 6, word: "She ______ glasses.", correct: "wears", wrong1: "wear", wrong2: "wearing", wrong3: "to wear" },
                    { id: 7, word: "They ______ football every weekend.", correct: "play", wrong1: "plays", wrong2: "playing", wrong3: "to play" },
                    { id: 8, word: "My friend ______ to music every evening.", correct: "listens", wrong1: "listen", wrong2: "listening", wrong3: "to listen" },
                    { id: 9, word: "We ______ our homework together.", correct: "do", wrong1: "does", wrong2: "doing", wrong3: "to do" },
                    { id: 10, word: "She ______ her teeth after meals.", correct: "brushes", wrong1: "brush", wrong2: "brushing", wrong3: "to brush" }
                ],
                E6U4: [
                    { id: 1, word: "There ______ a supermarket near my house.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 2, word: "The post office ______ next to the bank.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 3, word: "______ there a park in your neighborhood?", correct: "Is", wrong1: "Are", wrong2: "Am", wrong3: "Be" },
                    { id: 4, word: "There ______ many shops on this street.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 5, word: "The bus stop ______ in front of the school.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 6, word: "Where ______ the nearest pharmacy?", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 7, word: "There ______ a museum and two galleries in our town.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 8, word: "______ there any restaurants nearby?", correct: "Are", wrong1: "Is", wrong2: "Am", wrong3: "Be" },
                    { id: 9, word: "The library ______ between the school and the park.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 10, word: "There ______ three bookstores in our neighborhood.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" }
                ],
                E6U5: [
                    { id: 1, word: "Mount Everest ______ the highest mountain in the world.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 2, word: "The Amazon ______ the longest river.", correct: "isn't", wrong1: "aren't", wrong2: "am not", wrong3: "don't" },
                    { id: 3, word: "______ the Sahara Desert in Africa?", correct: "Is", wrong1: "Are", wrong2: "Am", wrong3: "Be" },
                    { id: 4, word: "There ______ many beautiful beaches in Vietnam.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 5, word: "Ha Long Bay ______ in northern Vietnam.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 6, word: "The Nile River ______ through Egypt.", correct: "flows", wrong1: "flow", wrong2: "flowing", wrong3: "to flow" },
                    { id: 7, word: "Many tourists ______ to visit natural wonders every year.", correct: "come", wrong1: "comes", wrong2: "coming", wrong3: "to come" },
                    { id: 8, word: "The Grand Canyon ______ in the United States.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 9, word: "There ______ many islands in the Pacific Ocean.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 10, word: "The Great Barrier Reef ______ off the coast of Australia.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" }
                ],
                E6U6: [
                    { id: 1, word: "We ______ our house before Tet.", correct: "clean", wrong1: "cleans", wrong2: "cleaning", wrong3: "to clean" },
                    { id: 2, word: "My mother ______ special food for Tet.", correct: "cooks", wrong1: "cook", wrong2: "cooking", wrong3: "to cook" },
                    { id: 3, word: "People ______ lucky money to children.", correct: "give", wrong1: "gives", wrong2: "giving", wrong3: "to give" },
                    { id: 4, word: "We ______ our relatives during Tet.", correct: "visit", wrong1: "visits", wrong2: "visiting", wrong3: "to visit" },
                    { id: 5, word: "Children ______ new clothes on Tet.", correct: "wear", wrong1: "wears", wrong2: "wearing", wrong3: "to wear" },
                    { id: 6, word: "My family ______ a peach blossom tree.", correct: "buys", wrong1: "buy", wrong2: "buying", wrong3: "to buy" },
                    { id: 7, word: "People ______ fireworks at midnight.", correct: "set off", wrong1: "sets off", wrong2: "setting off", wrong3: "to set off" },
                    { id: 8, word: "We ______ 'Happy New Year' to everyone.", correct: "say", wrong1: "says", wrong2: "saying", wrong3: "to say" },
                    { id: 9, word: "My grandparents ______ us lucky money.", correct: "give", wrong1: "gives", wrong2: "giving", wrong3: "to give" },
                    { id: 10, word: "I ______ my room before Tet.", correct: "decorate", wrong1: "decorates", wrong2: "decorating", wrong3: "to decorate" }
                ],
                E6U7: [
                    { id: 1, word: "I ______ TV every evening.", correct: "watch", wrong1: "watches", wrong2: "watching", wrong3: "to watch" },
                    { id: 2, word: "My favorite program ______ at 7 pm.", correct: "starts", wrong1: "start", wrong2: "starting", wrong3: "to start" },
                    { id: 3, word: "We ______ the news at 6 o'clock.", correct: "watch", wrong1: "watches", wrong2: "watching", wrong3: "to watch" },
                    { id: 4, word: "She ______ cartoons on weekends.", correct: "watches", wrong1: "watch", wrong2: "watching", wrong3: "to watch" },
                    { id: 5, word: "They ______ sports programs.", correct: "don't like", wrong1: "doesn't like", wrong2: "not like", wrong3: "no like" },
                    { id: 6, word: "______ your brother watch TV a lot?", correct: "Does", wrong1: "Do", wrong2: "Is", wrong3: "Are" },
                    { id: 7, word: "What programs ______ you like?", correct: "do", wrong1: "does", wrong2: "are", wrong3: "is" },
                    { id: 8, word: "I ______ TV before doing my homework.", correct: "don't watch", wrong1: "doesn't watch", wrong2: "not watch", wrong3: "no watch" },
                    { id: 9, word: "My parents ______ the news every morning.", correct: "watch", wrong1: "watches", wrong2: "watching", wrong3: "to watch" },
                    { id: 10, word: "The movie ______ at 8 pm.", correct: "starts", wrong1: "start", wrong2: "starting", wrong3: "to start" }
                ],
                E6U8: [
                    { id: 1, word: "I ______ basketball every Saturday.", correct: "play", wrong1: "plays", wrong2: "playing", wrong3: "to play" },
                    { id: 2, word: "She ______ badminton with her friends.", correct: "plays", wrong1: "play", wrong2: "playing", wrong3: "to play" },
                    { id: 3, word: "We ______ swimming in the summer.", correct: "go", wrong1: "goes", wrong2: "going", wrong3: "to go" },
                    { id: 4, word: "My brother ______ football very well.", correct: "plays", wrong1: "play", wrong2: "playing", wrong3: "to play" },
                    { id: 5, word: "They ______ table tennis after school.", correct: "play", wrong1: "plays", wrong2: "playing", wrong3: "to play" },
                    { id: 6, word: "______ you like sports?", correct: "Do", wrong1: "Does", wrong2: "Is", wrong3: "Are" },
                    { id: 7, word: "What sports ______ your sister play?", correct: "does", wrong1: "do", wrong2: "is", wrong3: "are" },
                    { id: 8, word: "I ______ running in the park every morning.", correct: "go", wrong1: "goes", wrong2: "going", wrong3: "to go" },
                    { id: 9, word: "We ______ volleyball at the beach.", correct: "play", wrong1: "plays", wrong2: "playing", wrong3: "to play" },
                    { id: 10, word: "She ______ cycling on weekends.", correct: "goes", wrong1: "go", wrong2: "going", wrong3: "to go" }
                ],
                E6U9: [
                    { id: 1, word: "London ______ the capital of England.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 2, word: "New York ______ in the United States.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 3, word: "Tokyo ______ a very big city.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 4, word: "Paris ______ famous for the Eiffel Tower.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 5, word: "Many tourists ______ to visit famous cities.", correct: "want", wrong1: "wants", wrong2: "wanting", wrong3: "to want" },
                    { id: 6, word: "Sydney ______ in Australia.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 7, word: "Rio de Janeiro ______ in Brazil.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 8, word: "Beijing ______ the capital of China.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 9, word: "Many big cities ______ crowded.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 10, word: "The Statue of Liberty ______ in New York.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" }
                ],
                E6U10: [
                    { id: 1, word: "In the future, houses ______ under the sea.", correct: "might be", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 2, word: "Robots ______ help us with housework.", correct: "will", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 3, word: "Our homes ______ smart technology.", correct: "will have", wrong1: "has", wrong2: "have", wrong3: "having" },
                    { id: 4, word: "We ______ control our houses with our voices.", correct: "might", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 5, word: "Houses ______ energy from the sun.", correct: "will get", wrong1: "gets", wrong2: "get", wrong3: "getting" },
                    { id: 6, word: "Windows ______ clean themselves.", correct: "might", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 7, word: "Our furniture ______ change color.", correct: "could", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 8, word: "We ______ have gardens on our roofs.", correct: "might", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 9, word: "Houses ______ be more eco-friendly.", correct: "will", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 10, word: "People ______ live in space stations.", correct: "might", wrong1: "are", wrong2: "is", wrong3: "be" }
                ],
                E6U11: [
                    { id: 1, word: "We ______ recycle paper and plastic.", correct: "should", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 2, word: "People ______ use reusable bags.", correct: "should", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 3, word: "We ______ waste water.", correct: "shouldn't", wrong1: "aren't", wrong2: "isn't", wrong3: "don't" },
                    { id: 4, word: "Everyone ______ plant more trees.", correct: "should", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 5, word: "We ______ turn off lights when not in use.", correct: "should", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 6, word: "People ______ throw rubbish in the street.", correct: "shouldn't", wrong1: "aren't", wrong2: "isn't", wrong3: "don't" },
                    { id: 7, word: "We ______ save energy at home.", correct: "should", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 8, word: "Students ______ walk or cycle to school.", correct: "should", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 9, word: "We ______ use too much plastic.", correct: "shouldn't", wrong1: "aren't", wrong2: "isn't", wrong3: "don't" },
                    { id: 10, word: "Everyone ______ protect the environment.", correct: "should", wrong1: "are", wrong2: "is", wrong3: "be" }
                ],
                E6U12: [
                    { id: 1, word: "Robots ______ do many things.", correct: "can", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 2, word: "They ______ help with housework.", correct: "can", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 3, word: "Some robots ______ like humans.", correct: "look", wrong1: "looks", wrong2: "looking", wrong3: "to look" },
                    { id: 4, word: "Robots ______ in factories.", correct: "work", wrong1: "works", wrong2: "working", wrong3: "to work" },
                    { id: 5, word: "They ______ dangerous jobs.", correct: "can do", wrong1: "can does", wrong2: "can doing", wrong3: "can to do" },
                    { id: 6, word: "Some robots ______ in hospitals.", correct: "help", wrong1: "helps", wrong2: "helping", wrong3: "to help" },
                    { id: 7, word: "Robots ______ our friends in the future.", correct: "might be", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 8, word: "They ______ cook meals.", correct: "can", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 9, word: "Robots ______ clean our houses.", correct: "can", wrong1: "are", wrong2: "is", wrong3: "be" },
                    { id: 10, word: "In the future, robots ______ teach students.", correct: "might", wrong1: "are", wrong2: "is", wrong3: "be" }
                ]
            },
            E7: {
                E7U1: [
                    { id: 1, word: "I enjoy ______ stamps in my free time.", correct: "collecting", wrong1: "collect", wrong2: "collects", wrong3: "to collect" },
                    { id: 2, word: "My brother's hobby is ______ photos.", correct: "taking", wrong1: "take", wrong2: "takes", wrong3: "to take" },
                    { id: 3, word: "She ______ gardening every weekend.", correct: "practices", wrong1: "practice", wrong2: "practicing", wrong3: "to practice" },
                    { id: 4, word: "We love ______ board games together.", correct: "playing", wrong1: "play", wrong2: "plays", wrong3: "to play" },
                    { id: 5, word: "______ is my favorite hobby.", correct: "Reading", wrong1: "Read", wrong2: "Reads", wrong3: "To read" },
                    { id: 6, word: "They spend hours ______ model airplanes.", correct: "building", wrong1: "build", wrong2: "builds", wrong3: "to build" },
                    { id: 7, word: "My father's hobby is ______ fishing.", correct: "going", wrong1: "go", wrong2: "goes", wrong3: "to go" },
                    { id: 8, word: "She ______ a lot of time knitting sweaters.", correct: "spends", wrong1: "spend", wrong2: "spending", wrong3: "to spend" },
                    { id: 9, word: "I'm interested in ______ to music.", correct: "listening", wrong1: "listen", wrong2: "listens", wrong3: "to listen" },
                    { id: 10, word: "They enjoy ______ new recipes.", correct: "trying", wrong1: "try", wrong2: "tries", wrong3: "to try" }
                ],
                E7U2: [
                    { id: 1, word: "You should ______ more vegetables.", correct: "eat", wrong1: "eats", wrong2: "eating", wrong3: "to eat" },
                    { id: 2, word: "It's important ______ enough sleep.", correct: "to get", wrong1: "get", wrong2: "gets", wrong3: "getting" },
                    { id: 3, word: "We ______ exercise every morning.", correct: "do", wrong1: "does", wrong2: "doing", wrong3: "to do" },
                    { id: 4, word: "She ______ to drink eight glasses of water daily.", correct: "tries", wrong1: "try", wrong2: "trying", wrong3: "to try" },
                    { id: 5, word: "______ junk food is bad for your health.", correct: "Eating", wrong1: "Eat", wrong2: "Eats", wrong3: "To eat" },
                    { id: 6, word: "They ______ yoga to stay flexible.", correct: "practice", wrong1: "practices", wrong2: "practicing", wrong3: "to practice" },
                    { id: 7, word: "My doctor told me ______ smoking.", correct: "to stop", wrong1: "stop", wrong2: "stops", wrong3: "stopping" },
                    { id: 8, word: "We should ______ our hands before meals.", correct: "wash", wrong1: "washes", wrong2: "washing", wrong3: "to wash" },
                    { id: 9, word: "He ______ a balanced diet.", correct: "follows", wrong1: "follow", wrong2: "following", wrong3: "to follow" },
                    { id: 10, word: "______ regularly helps maintain good health.", correct: "Exercising", wrong1: "Exercise", wrong2: "Exercises", wrong3: "To exercise" }
                ],
                E7U3: [
                    { id: 1, word: "We ______ food to homeless people every month.", correct: "donate", wrong1: "donates", wrong2: "donating", wrong3: "to donate" },
                    { id: 2, word: "She ______ elderly people cross the street.", correct: "helps", wrong1: "help", wrong2: "helping", wrong3: "to help" },
                    { id: 3, word: "They ______ clean the park every weekend.", correct: "volunteer to", wrong1: "volunteers to", wrong2: "volunteering to", wrong3: "to volunteer to" },
                    { id: 4, word: "Our school ______ a charity event last week.", correct: "organized", wrong1: "organize", wrong2: "organizes", wrong3: "organizing" },
                    { id: 5, word: "______ is a great way to help the community.", correct: "Volunteering", wrong1: "Volunteer", wrong2: "Volunteers", wrong3: "To volunteer" },
                    { id: 6, word: "I ______ clothes to the orphanage last Sunday.", correct: "donated", wrong1: "donate", wrong2: "donates", wrong3: "donating" },
                    { id: 7, word: "They ______ books for children in rural areas.", correct: "collect", wrong1: "collects", wrong2: "collecting", wrong3: "to collect" },
                    { id: 8, word: "We should ______ blood regularly.", correct: "give", wrong1: "gives", wrong2: "giving", wrong3: "to give" },
                    { id: 9, word: "She ______ English to poor children.", correct: "teaches", wrong1: "teach", wrong2: "teaching", wrong3: "to teach" },
                    { id: 10, word: "______ the environment is everyone's responsibility.", correct: "Protecting", wrong1: "Protect", wrong2: "Protects", wrong3: "To protect" }
                ],
                E7U4: [
                    { id: 1, word: "She ______ the piano beautifully.", correct: "plays", wrong1: "play", wrong2: "playing", wrong3: "to play" },
                    { id: 2, word: "We enjoy ______ to classical music.", correct: "listening", wrong1: "listen", wrong2: "listens", wrong3: "to listen" },
                    { id: 3, word: "They ______ a famous art gallery yesterday.", correct: "visited", wrong1: "visit", wrong2: "visits", wrong3: "visiting" },
                    { id: 4, word: "My brother is good at ______ portraits.", correct: "drawing", wrong1: "draw", wrong2: "draws", wrong3: "to draw" },
                    { id: 5, word: "______ is my favorite form of art.", correct: "Painting", wrong1: "Paint", wrong2: "Paints", wrong3: "To paint" },
                    { id: 6, word: "The orchestra ______ Beethoven's symphony last night.", correct: "performed", wrong1: "perform", wrong2: "performs", wrong3: "performing" },
                    { id: 7, word: "She ______ ballet since she was five.", correct: "has practiced", wrong1: "practice", wrong2: "practices", wrong3: "practicing" },
                    { id: 8, word: "We ______ a pottery class next month.", correct: "will take", wrong1: "take", wrong2: "takes", wrong3: "taking" },
                    { id: 9, word: "He ______ graffiti on the city walls.", correct: "doesn't like", wrong1: "don't like", wrong2: "not like", wrong3: "no like" },
                    { id: 10, word: "______ traditional music is important for cultural preservation.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" }
                ],
                E7U5: [
                    { id: 1, word: "I ______ a glass of milk every morning.", correct: "drink", wrong1: "drinks", wrong2: "drinking", wrong3: "to drink" },
                    { id: 2, word: "She ______ coffee with breakfast.", correct: "prefers", wrong1: "prefer", wrong2: "prefering", wrong3: "to prefer" },
                    { id: 3, word: "We ______ three meals a day.", correct: "have", wrong1: "has", wrong2: "having", wrong3: "to have" },
                    { id: 4, word: "______ vegetables is good for your health.", correct: "Eating", wrong1: "Eat", wrong2: "Eats", wrong3: "To eat" },
                    { id: 5, word: "They ______ fast food very often.", correct: "don't eat", wrong1: "doesn't eat", wrong2: "not eat", wrong3: "no eat" },
                    { id: 6, word: "My mother ______ delicious meals every day.", correct: "cooks", wrong1: "cook", wrong2: "cooking", wrong3: "to cook" },
                    { id: 7, word: "We should ______ more fruits.", correct: "consume", wrong1: "consumes", wrong2: "consuming", wrong3: "to consume" },
                    { id: 8, word: "He ______ to drink enough water.", correct: "forgets", wrong1: "forget", wrong2: "forgetting", wrong3: "to forget" },
                    { id: 9, word: "______ a balanced diet is essential.", correct: "Maintaining", wrong1: "Maintain", wrong2: "Maintains", wrong3: "To maintain" },
                    { id: 10, word: "They ______ to try new dishes when traveling.", correct: "love", wrong1: "loves", wrong2: "loving", wrong3: "to love" }
                ],
                E7U6: [
                    { id: 1, word: "We ______ our school last week.", correct: "visited", wrong1: "visit", wrong2: "visits", wrong3: "visiting" },
                    { id: 2, word: "The students ______ uniforms every day.", correct: "wear", wrong1: "wears", wrong2: "wearing", wrong3: "to wear" },
                    { id: 3, word: "She ______ to school by bus.", correct: "goes", wrong1: "go", wrong2: "going", wrong3: "to go" },
                    { id: 4, word: "______ is an important part of school life.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 5, word: "They ______ their homework in the library.", correct: "do", wrong1: "does", wrong2: "doing", wrong3: "to do" },
                    { id: 6, word: "Our school ______ many extracurricular activities.", correct: "offers", wrong1: "offer", wrong2: "offering", wrong3: "to offer" },
                    { id: 7, word: "I ______ my classmates very much.", correct: "like", wrong1: "likes", wrong2: "liking", wrong3: "to like" },
                    { id: 8, word: "The teacher ______ us new vocabulary every lesson.", correct: "teaches", wrong1: "teach", wrong2: "teaching", wrong3: "to teach" },
                    { id: 9, word: "We ______ the school rules carefully.", correct: "follow", wrong1: "follows", wrong2: "following", wrong3: "to follow" },
                    { id: 10, word: "______ to school on time is important.", correct: "Coming", wrong1: "Come", wrong2: "Comes", wrong3: "To come" }
                ],
                E7U7: [
                    { id: 1, word: "You must ______ traffic rules.", correct: "obey", wrong1: "obeys", wrong2: "obeying", wrong3: "to obey" },
                    { id: 2, word: "We should ______ the seatbelt while driving.", correct: "fasten", wrong1: "fastens", wrong2: "fastening", wrong3: "to fasten" },
                    { id: 3, word: "______ a helmet when riding a motorbike is mandatory.", correct: "Wearing", wrong1: "Wear", wrong2: "Wears", wrong3: "To wear" },
                    { id: 4, word: "They ______ at the red light.", correct: "stopped", wrong1: "stop", wrong2: "stops", wrong3: "stopping" },
                    { id: 5, word: "Pedestrians should ______ at the zebra crossing.", correct: "cross", wrong1: "crosses", wrong2: "crossing", wrong3: "to cross" },
                    { id: 6, word: "The government ______ new traffic laws last year.", correct: "introduced", wrong1: "introduce", wrong2: "introduces", wrong3: "introducing" },
                    { id: 7, word: "We mustn't ______ while driving.", correct: "text", wrong1: "texts", wrong2: "texting", wrong3: "to text" },
                    { id: 8, word: "______ carefully can prevent accidents.", correct: "Driving", wrong1: "Drive", wrong2: "Drives", wrong3: "To drive" },
                    { id: 9, word: "The police ______ traffic violators.", correct: "fine", wrong1: "fines", wrong2: "fining", wrong3: "to fine" },
                    { id: 10, word: "Children should ______ the road with an adult.", correct: "cross", wrong1: "crosses", wrong2: "crossing", wrong3: "to cross" }
                ],
                E7U8: [
                    { id: 1, word: "We ______ an interesting film last night.", correct: "watched", wrong1: "watch", wrong2: "watches", wrong3: "watching" },
                    { id: 2, word: "She ______ romantic movies.", correct: "prefers", wrong1: "prefer", wrong2: "prefering", wrong3: "to prefer" },
                    { id: 3, word: "______ films is my favorite pastime.", correct: "Watching", wrong1: "Watch", wrong2: "Watches", wrong3: "To watch" },
                    { id: 4, word: "They ______ to the cinema every weekend.", correct: "go", wrong1: "goes", wrong2: "going", wrong3: "to go" },
                    { id: 5, word: "The director ______ a new movie next month.", correct: "will release", wrong1: "release", wrong2: "releases", wrong3: "releasing" },
                    { id: 6, word: "I ______ action films to comedies.", correct: "like", wrong1: "likes", wrong2: "liking", wrong3: "to like" },
                    { id: 7, word: "______ good films requires talent.", correct: "Making", wrong1: "Make", wrong2: "Makes", wrong3: "To make" },
                    { id: 8, word: "We ______ the Oscars ceremony every year.", correct: "watch", wrong1: "watches", wrong2: "watching", wrong3: "to watch" },
                    { id: 9, word: "The actor ______ an award for his performance.", correct: "won", wrong1: "win", wrong2: "wins", wrong3: "winning" },
                    { id: 10, word: "______ films can inspire people.", correct: "Great", wrong1: "Greatly", wrong2: "Greatness", wrong3: "To great" }
                ],
                E7U9: [
                    { id: 1, word: "People ______ Christmas on December 25th.", correct: "celebrate", wrong1: "celebrates", wrong2: "celebrating", wrong3: "to celebrate" },
                    { id: 2, word: "We ______ the Lunar New Year every year.", correct: "observe", wrong1: "observes", wrong2: "observing", wrong3: "to observe" },
                    { id: 3, word: "______ traditions is important for cultural identity.", correct: "Preserving", wrong1: "Preserve", wrong2: "Preserves", wrong3: "To preserve" },
                    { id: 4, word: "They ______ the festival with fireworks.", correct: "marked", wrong1: "mark", wrong2: "marks", wrong3: "marking" },
                    { id: 5, word: "The children ______ costumes for Halloween.", correct: "wear", wrong1: "wears", wrong2: "wearing", wrong3: "to wear" },
                    { id: 6, word: "We ______ gifts during Christmas.", correct: "exchange", wrong1: "exchanges", wrong2: "exchanging", wrong3: "to exchange" },
                    { id: 7, word: "______ about different festivals is fascinating.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 8, word: "The community ______ the harvest festival annually.", correct: "holds", wrong1: "hold", wrong2: "holding", wrong3: "to hold" },
                    { id: 9, word: "People ______ special foods during festivals.", correct: "prepare", wrong1: "prepares", wrong2: "preparing", wrong3: "to prepare" },
                    { id: 10, word: "______ in cultural events is enjoyable.", correct: "Participating", wrong1: "Participate", wrong2: "Participates", wrong3: "To participate" }
                ],
                E7U10: [
                    { id: 1, word: "Solar power ______ from the sun.", correct: "comes", wrong1: "come", wrong2: "coming", wrong3: "to come" },
                    { id: 2, word: "We should ______ renewable energy sources.", correct: "use", wrong1: "uses", wrong2: "using", wrong3: "to use" },
                    { id: 3, word: "______ energy is important for the environment.", correct: "Saving", wrong1: "Save", wrong2: "Saves", wrong3: "To save" },
                    { id: 4, word: "They ______ wind turbines to generate electricity.", correct: "install", wrong1: "installs", wrong2: "installing", wrong3: "to install" },
                    { id: 5, word: "Fossil fuels ______ harmful emissions.", correct: "produce", wrong1: "produces", wrong2: "producing", wrong3: "to produce" },
                    { id: 6, word: "We must ______ our energy consumption.", correct: "reduce", wrong1: "reduces", wrong2: "reducing", wrong3: "to reduce" },
                    { id: 7, word: "______ off lights when not in use saves energy.", correct: "Turning", wrong1: "Turn", wrong2: "Turns", wrong3: "To turn" },
                    { id: 8, word: "The government ______ solar panel subsidies.", correct: "offers", wrong1: "offer", wrong2: "offering", wrong3: "to offer" },
                    { id: 9, word: "Hydroelectric power ______ from water.", correct: "comes", wrong1: "come", wrong2: "coming", wrong3: "to come" },
                    { id: 10, word: "______ energy sources is crucial for the future.", correct: "Developing", wrong1: "Develop", wrong2: "Develops", wrong3: "To develop" }
                ],
                E7U11: [
                    { id: 1, word: "In the future, people ______ flying cars.", correct: "might use", wrong1: "use", wrong2: "uses", wrong3: "using" },
                    { id: 2, word: "We ______ to Mars in the next decade.", correct: "could travel", wrong1: "travel", wrong2: "travels", wrong3: "traveling" },
                    { id: 3, word: "______ will change how we communicate.", correct: "Technology", wrong1: "Technological", wrong2: "Technologies", wrong3: "Technologist" },
                    { id: 4, word: "They ______ underwater cities in the future.", correct: "might build", wrong1: "build", wrong2: "builds", wrong3: "building" },
                    { id: 5, word: "Robots ______ many jobs currently done by humans.", correct: "will replace", wrong1: "replace", wrong2: "replaces", wrong3: "replacing" },
                    { id: 6, word: "______ in space may become common.", correct: "Living", wrong1: "Live", wrong2: "Lives", wrong3: "To live" },
                    { id: 7, word: "Scientists ______ new energy solutions.", correct: "are developing", wrong1: "develop", wrong2: "develops", wrong3: "developing" },
                    { id: 8, word: "We ______ virtual reality for education.", correct: "will use", wrong1: "use", wrong2: "uses", wrong3: "using" },
                    { id: 9, word: "______ predictions about the future is challenging.", correct: "Making", wrong1: "Make", wrong2: "Makes", wrong3: "To make" },
                    { id: 10, word: "Transportation ______ dramatically in the next century.", correct: "will change", wrong1: "change", wrong2: "changes", wrong3: "changing" }
                ],
                E7U12: [
                    { id: 1, word: "English ______ in many countries worldwide.", correct: "is spoken", wrong1: "speak", wrong2: "speaks", wrong3: "speaking" },
                    { id: 2, word: "We ______ English as a global language.", correct: "consider", wrong1: "considers", wrong2: "considering", wrong3: "to consider" },
                    { id: 3, word: "______ English opens many opportunities.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 4, word: "They ______ English for international communication.", correct: "use", wrong1: "uses", wrong2: "using", wrong3: "to use" },
                    { id: 5, word: "Many books ______ into English every year.", correct: "are translated", wrong1: "translate", wrong2: "translates", wrong3: "translating" },
                    { id: 6, word: "English ______ from Germanic languages.", correct: "developed", wrong1: "develop", wrong2: "develops", wrong3: "developing" },
                    { id: 7, word: "______ English well requires practice.", correct: "Speaking", wrong1: "Speak", wrong2: "Speaks", wrong3: "To speak" },
                    { id: 8, word: "The internet ______ English learning easier.", correct: "has made", wrong1: "make", wrong2: "makes", wrong3: "making" },
                    { id: 9, word: "We ______ English grammar rules carefully.", correct: "study", wrong1: "studies", wrong2: "studying", wrong3: "to study" },
                    { id: 10, word: "______ English-speaking countries is educational.", correct: "Visiting", wrong1: "Visit", wrong2: "Visits", wrong3: "To visit" }
                ]
            },
            E8: {
                E8U1: [
                    { id: 1, word: "I enjoy ______ books in my free time.", correct: "reading", wrong1: "read", wrong2: "reads", wrong3: "to read" },
                    { id: 2, word: "They ______ hiking on weekends.", correct: "go", wrong1: "goes", wrong2: "going", wrong3: "to go" },
                    { id: 3, word: "______ is a great way to relax.", correct: "Fishing", wrong1: "Fish", wrong2: "Fishes", wrong3: "To fish" },
                    { id: 4, word: "She ______ playing chess with her grandfather.", correct: "loves", wrong1: "love", wrong2: "loving", wrong3: "to love" },
                    { id: 5, word: "We ______ gardening together.", correct: "practice", wrong1: "practices", wrong2: "practicing", wrong3: "to practice" },
                    { id: 6, word: "______ sports keeps you fit.", correct: "Playing", wrong1: "Play", wrong2: "Plays", wrong3: "To play" },
                    { id: 7, word: "He ______ model airplanes as a hobby.", correct: "builds", wrong1: "build", wrong2: "building", wrong3: "to build" },
                    { id: 8, word: "They ______ photography classes.", correct: "take", wrong1: "takes", wrong2: "taking", wrong3: "to take" },
                    { id: 9, word: "______ time wisely is important.", correct: "Managing", wrong1: "Manage", wrong2: "Manages", wrong3: "To manage" },
                    { id: 10, word: "I ______ to music while working.", correct: "listen", wrong1: "listens", wrong2: "listening", wrong3: "to listen" }
                ],
                E8U2: [
                    { id: 1, word: "Life in the countryside ______ peaceful.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 2, word: "Farmers ______ early in the morning.", correct: "wake up", wrong1: "wakes up", wrong2: "waking up", wrong3: "to wake up" },
                    { id: 3, word: "______ fresh air is good for health.", correct: "Breathing", wrong1: "Breathe", wrong2: "Breathes", wrong3: "To breathe" },
                    { id: 4, word: "They ______ vegetables in their garden.", correct: "grow", wrong1: "grows", wrong2: "growing", wrong3: "to grow" },
                    { id: 5, word: "Villagers ______ each other closely.", correct: "know", wrong1: "knows", wrong2: "knowing", wrong3: "to know" },
                    { id: 6, word: "______ in the countryside is slower.", correct: "Living", wrong1: "Live", wrong2: "Lives", wrong3: "To live" },
                    { id: 7, word: "Children ______ to school by bicycle.", correct: "go", wrong1: "goes", wrong2: "going", wrong3: "to go" },
                    { id: 8, word: "We ______ the peaceful atmosphere.", correct: "enjoy", wrong1: "enjoys", wrong2: "enjoying", wrong3: "to enjoy" },
                    { id: 9, word: "______ nature is rewarding.", correct: "Appreciating", wrong1: "Appreciate", wrong2: "Appreciates", wrong3: "To appreciate" },
                    { id: 10, word: "The countryside ______ beautiful landscapes.", correct: "offers", wrong1: "offer", wrong2: "offering", wrong3: "to offer" }
                ],
                E8U3: [
                    { id: 1, word: "Teenagers ______ more independence.", correct: "need", wrong1: "needs", wrong2: "needing", wrong3: "to need" },
                    { id: 2, word: "They ______ about their future careers.", correct: "think", wrong1: "thinks", wrong2: "thinking", wrong3: "to think" },
                    { id: 3, word: "______ with teenagers requires patience.", correct: "Communicating", wrong1: "Communicate", wrong2: "Communicates", wrong3: "To communicate" },
                    { id: 4, word: "Many teens ______ social media daily.", correct: "use", wrong1: "uses", wrong2: "using", wrong3: "to use" },
                    { id: 5, word: "______ peer pressure is common.", correct: "Facing", wrong1: "Face", wrong2: "Faces", wrong3: "To face" },
                    { id: 6, word: "They ______ to express their opinions.", correct: "learn", wrong1: "learns", wrong2: "learning", wrong3: "to learn" },
                    { id: 7, word: "Teens ______ new technologies quickly.", correct: "adopt", wrong1: "adopts", wrong2: "adopting", wrong3: "to adopt" },
                    { id: 8, word: "______ teenage years can be challenging.", correct: "Navigating", wrong1: "Navigate", wrong2: "Navigates", wrong3: "To navigate" },
                    { id: 9, word: "Parents ______ guide their teenage children.", correct: "should", wrong1: "shall", wrong2: "will", wrong3: "must" },
                    { id: 10, word: "Teenagers ______ their identity during adolescence.", correct: "develop", wrong1: "develops", wrong2: "developing", wrong3: "to develop" }
                ],
                E8U4: [
                    { id: 1, word: "Vietnam ______ 54 ethnic groups.", correct: "has", wrong1: "have", wrong2: "having", wrong3: "to have" },
                    { id: 2, word: "Each group ______ unique traditions.", correct: "preserves", wrong1: "preserve", wrong2: "preserving", wrong3: "to preserve" },
                    { id: 3, word: "______ about ethnic cultures is fascinating.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 4, word: "They ______ colorful costumes during festivals.", correct: "wear", wrong1: "wears", wrong2: "wearing", wrong3: "to wear" },
                    { id: 5, word: "______ traditional crafts is important.", correct: "Maintaining", wrong1: "Maintain", wrong2: "Maintains", wrong3: "To maintain" },
                    { id: 6, word: "Many ethnic groups ______ in mountainous areas.", correct: "live", wrong1: "lives", wrong2: "living", wrong3: "to live" },
                    { id: 7, word: "Their languages ______ from Vietnamese.", correct: "differ", wrong1: "differs", wrong2: "differing", wrong3: "to differ" },
                    { id: 8, word: "______ ethnic diversity enriches culture.", correct: "Understanding", wrong1: "Understand", wrong2: "Understands", wrong3: "To understand" },
                    { id: 9, word: "The government ______ ethnic minority rights.", correct: "protects", wrong1: "protect", wrong2: "protecting", wrong3: "to protect" },
                    { id: 10, word: "We should ______ ethnic traditions.", correct: "respect", wrong1: "respects", wrong2: "respecting", wrong3: "to respect" }
                ],
                E8U5: [
                    { id: 1, word: "Every culture ______ unique customs.", correct: "has", wrong1: "have", wrong2: "having", wrong3: "to have" },
                    { id: 2, word: "We ______ our ancestors during Tet.", correct: "worship", wrong1: "worships", wrong2: "worshipping", wrong3: "to worship" },
                    { id: 3, word: "______ traditions connects generations.", correct: "Preserving", wrong1: "Preserve", wrong2: "Preserves", wrong3: "To preserve" },
                    { id: 4, word: "They ______ tea to guests as a courtesy.", correct: "offer", wrong1: "offers", wrong2: "offering", wrong3: "to offer" },
                    { id: 5, word: "______ with both hands shows respect.", correct: "Receiving", wrong1: "Receive", wrong2: "Receives", wrong3: "To receive" },
                    { id: 6, word: "Traditional values ______ over time.", correct: "evolve", wrong1: "evolves", wrong2: "evolving", wrong3: "to evolve" },
                    { id: 7, word: "We ______ our cultural heritage.", correct: "cherish", wrong1: "cherishes", wrong2: "cherishing", wrong3: "to cherish" },
                    { id: 8, word: "______ about other cultures broadens perspectives.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 9, word: "Customs ______ from region to region.", correct: "vary", wrong1: "varies", wrong2: "varying", wrong3: "to vary" },
                    { id: 10, word: "Respecting traditions ______ social harmony.", correct: "promotes", wrong1: "promote", wrong2: "promoting", wrong3: "to promote" }
                ],
                E8U6: [
                    { id: 1, word: "Modern lifestyles ______ rapidly.", correct: "change", wrong1: "changes", wrong2: "changing", wrong3: "to change" },
                    { id: 2, word: "People ______ more health-conscious now.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 3, word: "______ habits affect well-being.", correct: "Eating", wrong1: "Eat", wrong2: "Eats", wrong3: "To eat" },
                    { id: 4, word: "Many ______ yoga for relaxation.", correct: "practice", wrong1: "practices", wrong2: "practicing", wrong3: "to practice" },
                    { id: 5, word: "______ time outdoors improves mood.", correct: "Spending", wrong1: "Spend", wrong2: "Spends", wrong3: "To spend" },
                    { id: 6, word: "Technology ______ daily routines.", correct: "transforms", wrong1: "transform", wrong2: "transforming", wrong3: "to transform" },
                    { id: 7, word: "______ work-life balance is crucial.", correct: "Maintaining", wrong1: "Maintain", wrong2: "Maintains", wrong3: "To maintain" },
                    { id: 8, word: "People ______ more aware of sustainability.", correct: "are becoming", wrong1: "become", wrong2: "becomes", wrong3: "becoming" },
                    { id: 9, word: "______ habits take time to develop.", correct: "Healthy", wrong1: "Health", wrong2: "Healthily", wrong3: "Healthful" },
                    { id: 10, word: "Modern lifestyles ______ convenience.", correct: "prioritize", wrong1: "prioritizes", wrong2: "prioritizing", wrong3: "to prioritize" }
                ],
                E8U7: [
                    { id: 1, word: "We should ______ plastic waste.", correct: "reduce", wrong1: "reduces", wrong2: "reducing", wrong3: "to reduce" },
                    { id: 2, word: "______ trees helps the environment.", correct: "Planting", wrong1: "Plant", wrong2: "Plants", wrong3: "To plant" },
                    { id: 3, word: "Everyone ______ responsibility for the planet.", correct: "shares", wrong1: "share", wrong2: "sharing", wrong3: "to share" },
                    { id: 4, word: "Pollution ______ ecosystems.", correct: "harms", wrong1: "harm", wrong2: "harming", wrong3: "to harm" },
                    { id: 5, word: "______ energy saves resources.", correct: "Conserving", wrong1: "Conserve", wrong2: "Conserves", wrong3: "To conserve" },
                    { id: 6, word: "They ______ recycling programs.", correct: "support", wrong1: "supports", wrong2: "supporting", wrong3: "to support" },
                    { id: 7, word: "______ awareness is the first step.", correct: "Raising", wrong1: "Raise", wrong2: "Raises", wrong3: "To raise" },
                    { id: 8, word: "Climate change ______ global concern.", correct: "requires", wrong1: "require", wrong2: "requiring", wrong3: "to require" },
                    { id: 9, word: "______ environmentally friendly matters.", correct: "Being", wrong1: "Be", wrong2: "Is", wrong3: "To be" },
                    { id: 10, word: "Future generations ______ on our actions.", correct: "depend", wrong1: "depends", wrong2: "depending", wrong3: "to depend" }
                ],
                E8U8: [
                    { id: 1, word: "Online shopping ______ popular.", correct: "has become", wrong1: "become", wrong2: "becomes", wrong3: "becoming" },
                    { id: 2, word: "Customers ______ product reviews.", correct: "read", wrong1: "reads", wrong2: "reading", wrong3: "to read" },
                    { id: 3, word: "______ prices helps save money.", correct: "Comparing", wrong1: "Compare", wrong2: "Compares", wrong3: "To compare" },
                    { id: 4, word: "Many ______ convenience over price.", correct: "prefer", wrong1: "prefers", wrong2: "prefering", wrong3: "to prefer" },
                    { id: 5, word: "______ securely online is important.", correct: "Paying", wrong1: "Pay", wrong2: "Pays", wrong3: "To pay" },
                    { id: 6, word: "Stores ______ seasonal discounts.", correct: "offer", wrong1: "offers", wrong2: "offering", wrong3: "to offer" },
                    { id: 7, word: "______ shopping can be addictive.", correct: "Impulse", wrong1: "Impulses", wrong2: "Impulsive", wrong3: "Impulsively" },
                    { id: 8, word: "Consumers ______ their rights.", correct: "should know", wrong1: "know", wrong2: "knows", wrong3: "knowing" },
                    { id: 9, word: "______ wisely prevents waste.", correct: "Shopping", wrong1: "Shop", wrong2: "Shops", wrong3: "To shop" },
                    { id: 10, word: "Retail therapy ______ stress temporarily.", correct: "reduces", wrong1: "reduce", wrong2: "reducing", wrong3: "to reduce" }
                ],
                E8U9: [
                    { id: 1, word: "Earthquakes ______ without warning.", correct: "occur", wrong1: "occurs", wrong2: "occurring", wrong3: "to occur" },
                    { id: 2, word: "______ plans save lives.", correct: "Emergency", wrong1: "Emergencies", wrong2: "Emergent", wrong3: "Emergently" },
                    { id: 3, word: "Communities ______ for disasters.", correct: "prepare", wrong1: "prepares", wrong2: "preparing", wrong3: "to prepare" },
                    { id: 4, word: "Floods ______ extensive damage.", correct: "cause", wrong1: "causes", wrong2: "causing", wrong3: "to cause" },
                    { id: 5, word: "______ awareness is crucial.", correct: "Public", wrong1: "Publicly", wrong2: "Publics", wrong3: "Publicize" },
                    { id: 6, word: "Scientists ______ predict some disasters.", correct: "can", wrong1: "could", wrong2: "should", wrong3: "would" },
                    { id: 7, word: "______ kits should be ready.", correct: "Survival", wrong1: "Survive", wrong2: "Survives", wrong3: "Surviving" },
                    { id: 8, word: "Climate change ______ disaster risks.", correct: "increases", wrong1: "increase", wrong2: "increasing", wrong3: "to increase" },
                    { id: 9, word: "______ together strengthens resilience.", correct: "Working", wrong1: "Work", wrong2: "Works", wrong3: "To work" },
                    { id: 10, word: "Early warning systems ______ lives.", correct: "save", wrong1: "saves", wrong2: "saving", wrong3: "to save" }
                ],
                E8U10: [
                    { id: 1, word: "Technology ______ communication methods.", correct: "transforms", wrong1: "transform", wrong2: "transforming", wrong3: "to transform" },
                    { id: 2, word: "People ______ more digitally connected.", correct: "are becoming", wrong1: "become", wrong2: "becomes", wrong3: "becoming" },
                    { id: 3, word: "______ messages is instantaneous.", correct: "Sending", wrong1: "Send", wrong2: "Sends", wrong3: "To send" },
                    { id: 4, word: "Future communication ______ more immersive.", correct: "will be", wrong1: "is", wrong2: "are", wrong3: "be" },
                    { id: 5, word: "______ barriers may disappear.", correct: "Language", wrong1: "Languages", wrong2: "Linguistic", wrong3: "Linguistically" },
                    { id: 6, word: "Virtual meetings ______ travel.", correct: "reduce", wrong1: "reduces", wrong2: "reducing", wrong3: "to reduce" },
                    { id: 7, word: "______ technology changes interactions.", correct: "Emerging", wrong1: "Emerge", wrong2: "Emerges", wrong3: "To emerge" },
                    { id: 8, word: "People ______ across time zones easily.", correct: "can collaborate", wrong1: "collaborate", wrong2: "collaborates", wrong3: "collaborating" },
                    { id: 9, word: "______ communication skills remains vital.", correct: "Developing", wrong1: "Develop", wrong2: "Develops", wrong3: "To develop" },
                    { id: 10, word: "The internet ______ global connectivity.", correct: "enables", wrong1: "enable", wrong2: "enabling", wrong3: "to enable" }
                ],
                E8U11: [
                    { id: 1, word: "Science ______ our understanding.", correct: "expands", wrong1: "expand", wrong2: "expanding", wrong3: "to expand" },
                    { id: 2, word: "Technological advancements ______ lives.", correct: "improve", wrong1: "improves", wrong2: "improving", wrong3: "to improve" },
                    { id: 3, word: "______ drives innovation.", correct: "Research", wrong1: "Researches", wrong2: "Researcher", wrong3: "Researched" },
                    { id: 4, word: "Scientists ______ new discoveries.", correct: "make", wrong1: "makes", wrong2: "making", wrong3: "to make" },
                    { id: 5, word: "______ changes society rapidly.", correct: "Technology", wrong1: "Technologies", wrong2: "Technological", wrong3: "Technologically" },
                    { id: 6, word: "Artificial intelligence ______ many fields.", correct: "transforms", wrong1: "transform", wrong2: "transforming", wrong3: "to transform" },
                    { id: 7, word: "______ responsibly is essential.", correct: "Innovating", wrong1: "Innovate", wrong2: "Innovates", wrong3: "To innovate" },
                    { id: 8, word: "Space exploration ______ our horizons.", correct: "broadens", wrong1: "broaden", wrong2: "broadening", wrong3: "to broaden" },
                    { id: 9, word: "______ in science education matters.", correct: "Investing", wrong1: "Invest", wrong2: "Invests", wrong3: "To invest" },
                    { id: 10, word: "Future technologies ______ unimaginable.", correct: "may seem", wrong1: "seem", wrong2: "seems", wrong3: "seeming" }
                ],
                E8U12: [
                    { id: 1, word: "Scientists ______ extraterrestrial life.", correct: "search for", wrong1: "searches for", wrong2: "searching for", wrong3: "to search for" },
                    { id: 2, word: "Space exploration ______ possibilities.", correct: "opens up", wrong1: "open up", wrong2: "opening up", wrong3: "to open up" },
                    { id: 3, word: "______ planets may support life.", correct: "Other", wrong1: "Another", wrong2: "Others", wrong3: "The other" },
                    { id: 4, word: "Mars ______ the most studied planet.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 5, word: "______ conditions vary greatly.", correct: "Planetary", wrong1: "Planet", wrong2: "Planets", wrong3: "Planet's" },
                    { id: 6, word: "Astronauts ______ rigorous training.", correct: "undergo", wrong1: "undergoes", wrong2: "undergoing", wrong3: "to undergo" },
                    { id: 7, word: "______ in space is challenging.", correct: "Living", wrong1: "Live", wrong2: "Lives", wrong3: "To live" },
                    { id: 8, word: "Space travel ______ technological advances.", correct: "requires", wrong1: "require", wrong2: "requiring", wrong3: "to require" },
                    { id: 9, word: "______ about space fascinates many.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 10, word: "Future generations ______ space colonies.", correct: "may establish", wrong1: "establish", wrong2: "establishes", wrong3: "establishing" }
                ]
            },
            E9: {
                E9U1: [
                    { id: 1, word: "Community centers ______ social activities.", correct: "organize", wrong1: "organizes", wrong2: "organizing", wrong3: "to organize" },
                    { id: 2, word: "Neighbors ______ each other in our town.", correct: "help", wrong1: "helps", wrong2: "helping", wrong3: "to help" },
                    { id: 3, word: "______ together strengthens bonds.", correct: "Working", wrong1: "Work", wrong2: "Works", wrong3: "To work" },
                    { id: 4, word: "Local businesses ______ the economy.", correct: "support", wrong1: "supports", wrong2: "supporting", wrong3: "to support" },
                    { id: 5, word: "______ events bring people together.", correct: "Community", wrong1: "Communities", wrong2: "Communal", wrong3: "Communally" },
                    { id: 6, word: "Volunteers ______ valuable services.", correct: "provide", wrong1: "provides", wrong2: "providing", wrong3: "to provide" },
                    { id: 7, word: "______ local issues is important.", correct: "Addressing", wrong1: "Address", wrong2: "Addresses", wrong3: "To address" },
                    { id: 8, word: "Residents ______ neighborhood safety.", correct: "care about", wrong1: "cares about", wrong2: "caring about", wrong3: "to care about" },
                    { id: 9, word: "______ traditions preserves identity.", correct: "Maintaining", wrong1: "Maintain", wrong2: "Maintains", wrong3: "To maintain" },
                    { id: 10, word: "Strong communities ______ resilience.", correct: "build", wrong1: "builds", wrong2: "building", wrong3: "to build" }
                ],
                E9U2: [
                    { id: 1, word: "Cities ______ diverse populations.", correct: "has", wrong1: "have", wrong2: "having", wrong3: "to have" },
                    { id: 2, word: "Urban areas ______ more opportunities.", correct: "offer", wrong1: "offers", wrong2: "offering", wrong3: "to offer" },
                    { id: 3, word: "______ in cities can be stressful.", correct: "Living", wrong1: "Live", wrong2: "Lives", wrong3: "To live" },
                    { id: 4, word: "Public transportation ______ congestion.", correct: "reduces", wrong1: "reduce", wrong2: "reducing", wrong3: "to reduce" },
                    { id: 5, word: "______ spaces improve quality of life.", correct: "Green", wrong1: "Greens", wrong2: "Greenery", wrong3: "Greenly" },
                    { id: 6, word: "City planners ______ sustainable solutions.", correct: "seek", wrong1: "seeks", wrong2: "seeking", wrong3: "to seek" },
                    { id: 7, word: "______ architecture reflects culture.", correct: "Urban", wrong1: "Urbans", wrong2: "Urbanize", wrong3: "Urbanization" },
                    { id: 8, word: "Noise pollution ______ city dwellers.", correct: "affects", wrong1: "affect", wrong2: "affecting", wrong3: "to affect" },
                    { id: 9, word: "______ cities requires innovation.", correct: "Managing", wrong1: "Manage", wrong2: "Manages", wrong3: "To manage" },
                    { id: 10, word: "Urbanization ______ globally.", correct: "is increasing", wrong1: "increase", wrong2: "increases", wrong3: "increasing" }
                ],
                E9U3: [
                    { id: 1, word: "Teens should ______ balanced diets.", correct: "maintain", wrong1: "maintains", wrong2: "maintaining", wrong3: "to maintain" },
                    { id: 2, word: "Regular exercise ______ health.", correct: "improves", wrong1: "improve", wrong2: "improving", wrong3: "to improve" },
                    { id: 3, word: "______ sleep is essential.", correct: "Adequate", wrong1: "Adequately", wrong2: "Adequacy", wrong3: "Adequateness" },
                    { id: 4, word: "Stress management ______ well-being.", correct: "enhances", wrong1: "enhance", wrong2: "enhancing", wrong3: "to enhance" },
                    { id: 5, word: "______ habits form early.", correct: "Healthy", wrong1: "Health", wrong2: "Healthily", wrong3: "Healthful" },
                    { id: 6, word: "Teenagers ______ peer pressure.", correct: "face", wrong1: "faces", wrong2: "facing", wrong3: "to face" },
                    { id: 7, word: "______ about health is empowering.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 8, word: "Mental health ______ equal attention.", correct: "deserves", wrong1: "deserve", wrong2: "deserving", wrong3: "to deserve" },
                    { id: 9, word: "______ support systems helps teens.", correct: "Building", wrong1: "Build", wrong2: "Builds", wrong3: "To build" },
                    { id: 10, word: "Healthy teens ______ productive adults.", correct: "become", wrong1: "becomes", wrong2: "becoming", wrong3: "to become" }
                ],
                E9U4: [
                    { id: 1, word: "History ______ valuable lessons.", correct: "teaches", wrong1: "teach", wrong2: "teaching", wrong3: "to teach" },
                    { id: 2, word: "______ the past informs the future.", correct: "Understanding", wrong1: "Understand", wrong2: "Understands", wrong3: "To understand" },
                    { id: 3, word: "Ancient civilizations ______ foundations.", correct: "laid", wrong1: "lay", wrong2: "laying", wrong3: "to lay" },
                    { id: 4, word: "Cultural heritage ______ preservation.", correct: "requires", wrong1: "require", wrong2: "requiring", wrong3: "to require" },
                    { id: 5, word: "______ traditions connects generations.", correct: "Preserving", wrong1: "Preserve", wrong2: "Preserves", wrong3: "To preserve" },
                    { id: 6, word: "Historical events ______ society.", correct: "shape", wrong1: "shapes", wrong2: "shaping", wrong3: "to shape" },
                    { id: 7, word: "______ history prevents repetition.", correct: "Studying", wrong1: "Study", wrong2: "Studies", wrong3: "To study" },
                    { id: 8, word: "Museums ______ artifacts carefully.", correct: "display", wrong1: "displays", wrong2: "displaying", wrong3: "to display" },
                    { id: 9, word: "______ perspectives enriches knowledge.", correct: "Multiple", wrong1: "Multiply", wrong2: "Multiplies", wrong3: "Multiplication" },
                    { id: 10, word: "The past ______ present decisions.", correct: "influences", wrong1: "influence", wrong2: "influencing", wrong3: "to influence" }
                ],
                E9U5: [
                    { id: 1, word: "Life ______ various experiences.", correct: "offers", wrong1: "offer", wrong2: "offering", wrong3: "to offer" },
                    { id: 2, word: "______ challenges builds character.", correct: "Facing", wrong1: "Face", wrong2: "Faces", wrong3: "To face" },
                    { id: 3, word: "Travel ______ perspectives.", correct: "broadens", wrong1: "broaden", wrong2: "broadening", wrong3: "to broaden" },
                    { id: 4, word: "______ from mistakes is valuable.", correct: "Learning", wrong1: "Learn", wrong2: "Learns", wrong3: "To learn" },
                    { id: 5, word: "Shared experiences ______ bonds.", correct: "strengthen", wrong1: "strengthens", wrong2: "strengthening", wrong3: "to strengthen" },
                    { id: 6, word: "______ new things is exciting.", correct: "Trying", wrong1: "Try", wrong2: "Tries", wrong3: "To try" },
                    { id: 7, word: "Cultural exchanges ______ understanding.", correct: "promote", wrong1: "promotes", wrong2: "promoting", wrong3: "to promote" },
                    { id: 8, word: "______ memories lasts forever.", correct: "Precious", wrong1: "Preciously", wrong2: "Preciousness", wrong3: "Preciousity" },
                    { id: 9, word: "Life experiences ______ wisdom.", correct: "bring", wrong1: "brings", wrong2: "bringing", wrong3: "to bring" },
                    { id: 10, word: "Reflecting ______ personal growth.", correct: "aids", wrong1: "aid", wrong2: "aiding", wrong3: "to aid" }
                ],
                E9U6: [
                    { id: 1, word: "Traditions ______ over time.", correct: "evolve", wrong1: "evolves", wrong2: "evolving", wrong3: "to evolve" },
                    { id: 2, word: "Modern lifestyles ______ rapidly.", correct: "change", wrong1: "changes", wrong2: "changing", wrong3: "to change" },
                    { id: 3, word: "______ generations have different views.", correct: "Different", wrong1: "Difference", wrong2: "Differently", wrong3: "Differentiate" },
                    { id: 4, word: "Technology ______ daily routines.", correct: "transforms", wrong1: "transform", wrong2: "transforming", wrong3: "to transform" },
                    { id: 5, word: "______ values often remain constant.", correct: "Core", wrong1: "Cores", wrong2: "Corely", wrong3: "Coreness" },
                    { id: 6, word: "Social media ______ communication.", correct: "has revolutionized", wrong1: "revolutionize", wrong2: "revolutionizes", wrong3: "revolutionizing" },
                    { id: 7, word: "______ traditions is challenging.", correct: "Balancing", wrong1: "Balance", wrong2: "Balances", wrong3: "To balance" },
                    { id: 8, word: "Cultural shifts ______ inevitable.", correct: "are", wrong1: "is", wrong2: "am", wrong3: "be" },
                    { id: 9, word: "______ about change is natural.", correct: "Resistance", wrong1: "Resist", wrong2: "Resists", wrong3: "Resisting" },
                    { id: 10, word: "Progress ______ adaptation.", correct: "requires", wrong1: "require", wrong2: "requiring", wrong3: "to require" }
                ],
                E9U7: [
                    { id: 1, word: "The Grand Canyon ______ breathtaking.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 2, word: "Natural wonders ______ visitors worldwide.", correct: "attract", wrong1: "attracts", wrong2: "attracting", wrong3: "to attract" },
                    { id: 3, word: "______ ecosystems need protection.", correct: "Fragile", wrong1: "Fragility", wrong2: "Fragilely", wrong3: "Fragileness" },
                    { id: 4, word: "Tourism ______ conservation efforts.", correct: "can support", wrong1: "support", wrong2: "supports", wrong3: "supporting" },
                    { id: 5, word: "______ responsibly preserves sites.", correct: "Visiting", wrong1: "Visit", wrong2: "Visits", wrong3: "To visit" },
                    { id: 6, word: "Climate change ______ natural landmarks.", correct: "threatens", wrong1: "threaten", wrong2: "threatening", wrong3: "to threaten" },
                    { id: 7, word: "______ parks protect biodiversity.", correct: "National", wrong1: "Nationally", wrong2: "Nationals", wrong3: "Nationality" },
                    { id: 8, word: "Geological formations ______ millions of years.", correct: "take", wrong1: "takes", wrong2: "taking", wrong3: "to take" },
                    { id: 9, word: "______ wonders inspires awe.", correct: "Natural", wrong1: "Nature", wrong2: "Naturally", wrong3: "Naturalness" },
                    { id: 10, word: "Sustainable tourism ______ the future.", correct: "ensures", wrong1: "ensure", wrong2: "ensuring", wrong3: "to ensure" }
                ],
                E9U8: [
                    { id: 1, word: "Tourism ______ local economies.", correct: "boosts", wrong1: "boost", wrong2: "boosting", wrong3: "to boost" },
                    { id: 2, word: "Travelers ______ cultural exchange.", correct: "facilitate", wrong1: "facilitates", wrong2: "facilitating", wrong3: "to facilitate" },
                    { id: 3, word: "______ destinations carefully is important.", correct: "Choosing", wrong1: "Choose", wrong2: "Chooses", wrong3: "To choose" },
                    { id: 4, word: "Ecotourism ______ environmental awareness.", correct: "promotes", wrong1: "promote", wrong2: "promoting", wrong3: "to promote" },
                    { id: 5, word: "______ tourism can be harmful.", correct: "Mass", wrong1: "Masses", wrong2: "Massly", wrong3: "Massness" },
                    { id: 6, word: "Historic sites ______ preservation.", correct: "require", wrong1: "requires", wrong2: "requiring", wrong3: "to require" },
                    { id: 7, word: "______ respectfully shows appreciation.", correct: "Behaving", wrong1: "Behave", wrong2: "Behaves", wrong3: "To behave" },
                    { id: 8, word: "Tourist behavior ______ local perceptions.", correct: "affects", wrong1: "affect", wrong2: "affecting", wrong3: "to affect" },
                    { id: 9, word: "______ travel broadens perspectives.", correct: "International", wrong1: "Internationally", wrong2: "Internationals", wrong3: "Internationality" },
                    { id: 10, word: "The hospitality industry ______ jobs.", correct: "creates", wrong1: "create", wrong2: "creating", wrong3: "to create" }
                ],
                E9U9: [
                    { id: 1, word: "English ______ in many variations.", correct: "exists", wrong1: "exist", wrong2: "existing", wrong3: "to exist" },
                    { id: 2, word: "Different countries ______ unique accents.", correct: "have", wrong1: "has", wrong2: "having", wrong3: "to have" },
                    { id: 3, word: "______ dialects reflect culture.", correct: "Regional", wrong1: "Region", wrong2: "Regions", wrong3: "Regionally" },
                    { id: 4, word: "Slang ______ constantly.", correct: "evolves", wrong1: "evolve", wrong2: "evolving", wrong3: "to evolve" },
                    { id: 5, word: "______ English varieties enriches communication.", correct: "Understanding", wrong1: "Understand", wrong2: "Understands", wrong3: "To understand" },
                    { id: 6, word: "Global English ______ flexibility.", correct: "requires", wrong1: "require", wrong2: "requiring", wrong3: "to require" },
                    { id: 7, word: "______ differences promotes tolerance.", correct: "Respecting", wrong1: "Respect", wrong2: "Respects", wrong3: "To respect" },
                    { id: 8, word: "Language ______ over time.", correct: "changes", wrong1: "change", wrong2: "changing", wrong3: "to change" },
                    { id: 9, word: "______ English speakers communicate effectively.", correct: "Competent", wrong1: "Competently", wrong2: "Competence", wrong3: "Competency" },
                    { id: 10, word: "Cultural context ______ meaning.", correct: "influences", wrong1: "influence", wrong2: "influencing", wrong3: "to influence" }
                ],
                E9U10: [
                    { id: 1, word: "The Earth ______ a fragile ecosystem.", correct: "has", wrong1: "have", wrong2: "having", wrong3: "to have" },
                    { id: 2, word: "Human activities ______ the environment.", correct: "affect", wrong1: "affects", wrong2: "affecting", wrong3: "to affect" },
                    { id: 3, word: "______ resources is crucial.", correct: "Conserving", wrong1: "Conserve", wrong2: "Conserves", wrong3: "To conserve" },
                    { id: 4, word: "Climate change ______ global concern.", correct: "is", wrong1: "are", wrong2: "am", wrong3: "be" },
                    { id: 5, word: "______ species face extinction.", correct: "Many", wrong1: "Much", wrong2: "More", wrong3: "Most" },
                    { id: 6, word: "Sustainable practices ______ the future.", correct: "secure", wrong1: "secures", wrong2: "securing", wrong3: "to secure" },
                    { id: 7, word: "______ awareness drives change.", correct: "Environmental", wrong1: "Environment", wrong2: "Environmentally", wrong3: "Environmentalism" },
                    { id: 8, word: "Individuals ______ make a difference.", correct: "can", wrong1: "could", wrong2: "should", wrong3: "would" },
                    { id: 9, word: "______ responsibly protects ecosystems.", correct: "Acting", wrong1: "Act", wrong2: "Acts", wrong3: "To act" },
                    { id: 10, word: "Future generations ______ on our actions.", correct: "depend", wrong1: "depends", wrong2: "depending", wrong3: "to depend" }
                ],
                E9U11: [
                    { id: 1, word: "Smartphones ______ communication.", correct: "have revolutionized", wrong1: "revolutionize", wrong2: "revolutionizes", wrong3: "revolutionizing" },
                    { id: 2, word: "Many ______ on devices daily.", correct: "rely", wrong1: "relies", wrong2: "relying", wrong3: "to rely" },
                    { id: 3, word: "______ addiction is concerning.", correct: "Technology", wrong1: "Technological", wrong2: "Technologically", wrong3: "Technologist" },
                    { id: 4, word: "Digital tools ______ productivity.", correct: "enhance", wrong1: "enhances", wrong2: "enhancing", wrong3: "to enhance" },
                    { id: 5, word: "______ balance is essential.", correct: "Work-life", wrong1: "Work-live", wrong2: "Work-living", wrong3: "Work-lived" },
                    { id: 6, word: "Social media ______ interactions.", correct: "transforms", wrong1: "transform", wrong2: "transforming", wrong3: "to transform" },
                    { id: 7, word: "______ breaks improves focus.", correct: "Taking", wrong1: "Take", wrong2: "Takes", wrong3: "To take" },
                    { id: 8, word: "Cybersecurity ______ important.", correct: "is becoming", wrong1: "become", wrong2: "becomes", wrong3: "becoming" },
                    { id: 9, word: "______ technology wisely matters.", correct: "Using", wrong1: "Use", wrong2: "Uses", wrong3: "To use" },
                    { id: 10, word: "Future devices ______ more integrated.", correct: "will be", wrong1: "is", wrong2: "are", wrong3: "be" }
                ],
                E9U12: [
                    { id: 1, word: "Career choices ______ life paths.", correct: "determine", wrong1: "determines", wrong2: "determining", wrong3: "to determine" },
                    { id: 2, word: "Many ______ their passions.", correct: "follow", wrong1: "follows", wrong2: "following", wrong3: "to follow" },
                    { id: 3, word: "______ planning is crucial.", correct: "Career", wrong1: "Careers", wrong2: "Career's", wrong3: "Careering" },
                    { id: 4, word: "Job markets ______ constantly.", correct: "change", wrong1: "changes", wrong2: "changing", wrong3: "to change" },
                    { id: 5, word: "______ skills increases opportunities.", correct: "Developing", wrong1: "Develop", wrong2: "Develops", wrong3: "To develop" },
                    { id: 6, word: "Networking ______ professional growth.", correct: "facilitates", wrong1: "facilitate", wrong2: "facilitating", wrong3: "to facilitate" },
                    { id: 7, word: "______ fulfillment varies individually.", correct: "Job", wrong1: "Jobs", wrong2: "Job's", wrong3: "Jobing" },
                    { id: 8, word: "Continuous learning ______ necessary.", correct: "is becoming", wrong1: "become", wrong2: "becomes", wrong3: "becoming" },
                    { id: 9, word: "______ wisely impacts happiness.", correct: "Choosing", wrong1: "Choose", wrong2: "Chooses", wrong3: "To choose" },
                    { id: 10, word: "Future careers ______ new skills.", correct: "will require", wrong1: "require", wrong2: "requires", wrong3: "requiring" }
                ]
            }
        };
        
        const unitTitles = {
            E6: {
                E6U1: "E6 GS UNIT 1: MY NEW SCHOOL", E6U2: "E6 GS UNIT 2: MY HOME", E6U3: "E6 GS UNIT 3: MY FRIENDS",
                E6U4: "E6 GS UNIT 4: MY NEIGHBOURHOOD", E6U5: "E6 GS UNIT 5: NATURAL WONDERS", E6U6: "E6 GS UNIT 6: OUR TET HOLIDAY",
                E6U7: "E6 GS UNIT 7: TELEVISION", E6U8: "E6 GS UNIT 8: SPORTS", E6U9: "E6 GS UNIT 9: CITIES",
                E6U10: "E6 GS UNIT 10: HOUSES IN FUTURE", E6U11: "E6 GS UNIT 11: GREENER WORLD", E6U12: "E6 GS UNIT 12: ROBOTS"
            },
            E7: {
                E7U1: "E7 GS UNIT 1: HOBBIES", E7U2: "E7 GS UNIT 2: HEALTHY LIVING", E7U3: "E7 GS UNIT 3: COMMUNITY SERVICE",
                E7U4: "E7 GS UNIT 4: MUSIC AND ARTS", E7U5: "E7 GS UNIT 5: FOOD AND DRINK", E7U6: "E7 GS UNIT 6: A VISIT TO SCHOOL",
                E7U7: "E7 GS UNIT 7: TRAFFIC", E7U8: "E7 GS UNIT 8: FILMS", E7U9: "E7 GS UNIT 9: FESTIVALS",
                E7U10: "E7 GS UNIT 10: ENERGY SOURCES", E7U11: "E7 GS UNIT 11: TRAVELLING FUTURE", E7U12: "E7 GS UNIT 12: ENGLISH COUNTRIES"
            },
            E8: {
                E8U1: "E8 GS UNIT 1: LEISURE TIME", E8U2: "E8 GS UNIT 2: COUNTRYSIDE", E8U3: "E8 GS UNIT 3: TEENAGERS",
                E8U4: "E8 GS UNIT 4: ETHNIC GROUPS", E8U5: "E8 GS UNIT 5: CUSTOMS", E8U6: "E8 GS UNIT 6: LIFESTYLES",
                E8U7: "E8 GS UNIT 7: ENVIRONMENT", E8U8: "E8 GS UNIT 8: SHOPPING", E8U9: "E8 GS UNIT 9: NATURAL DISASTERS",
                E8U10: "E8 GS UNIT 10: COMMUNICATION", E8U11: "E8 GS UNIT 11: SCIENCE", E8U12: "E8 GS UNIT 12: LIFE ON PLANETS"
            },
            E9: {
                E9U1: "E9 GS UNIT 1: LOCAL COMMUNITY", E9U2: "E9 GS UNIT 2: CITY LIFE", E9U3: "E9 GS UNIT 3: TEEN HEALTH",
                E9U4: "E9 GS UNIT 4: REMEMBERING PAST", E9U5: "E9 GS UNIT 5: EXPERIENCES", E9U6: "E9 GS UNIT 6: LIFESTYLES",
                E9U7: "E9 GS UNIT 7: NATURAL WONDERS", E9U8: "E9 GS UNIT 8: TOURISM", E9U9: "E9 GS UNIT 9: WORLD ENGLISHES",
                E9U10: "E9 GS UNIT 10: PLANET EARTH", E9U11: "E9 GS UNIT 11: ELECTRONIC DEVICES", E9U12: "E9 GS UNIT 12: CAREER CHOICES"
            }
        };
        
        const testTypeTitles = {
            'U1-U3': 'KIỂM TRA U1-U3', 'U4-U6': 'KIỂM TRA U4-U6', 'U1-U6': 'KIỂM TRA U1-U6',
            'U7-U9': 'KIỂM TRA U7-U9', 'U10-U12': 'KIỂM TRA U10-U12', 'U7-U12': 'KIỂM TRA U7-U12',
            'OVERALL': 'KIỂM TRA TỔNG HỢP'
        };
        
        let currentQuestionIndex = 0, score = 0, streak = 0, maxStreak = 0;
        let timer, timeLeft, totalTime = 0, questionTimes = [];
        let selectedQuestions = [], username = "", wrongQuestions = [], answerHistory = [];
        let selectedOptions = [], startTime, endTime, currentWord = "";
        let questionCount = 20, currentGrade = "E6", currentUnit = "E6U1", currentTestType = "single-unit";
        
        const gradeScreen = document.getElementById('grade-screen');
        const loginScreen = document.getElementById('login-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const newResName = document.getElementById('new-res-name');
        const newResDate = document.getElementById('new-res-date');
        const newChartProgress = document.getElementById('new-chart-progress');
        const newScoreCenter = document.getElementById('new-score-center');
        const newPercentCenter = document.getElementById('new-percent-center');
        const newResStart = document.getElementById('new-res-start');
        const newResEnd = document.getElementById('new-res-end');
        const newResStreak = document.getElementById('new-res-streak');
        const newResTotal = document.getElementById('new-res-total');
        const resultTestTypeEl = document.getElementById('result-test-type');

        const grade6Btn = document.getElementById('grade-6-btn');
        const grade7Btn = document.getElementById('grade-7-btn');
        const grade8Btn = document.getElementById('grade-8-btn');
        const grade9Btn = document.getElementById('grade-9-btn');
        const startBtn = document.getElementById('start-btn');
        const backToGradeBtn = document.getElementById('back-to-grade-btn');
        const usernameInput = document.getElementById('username');
        const questionCountSelect = document.getElementById('question-count');
        const unitSelect = document.getElementById('unit-select');
        const wordElement = document.getElementById('word');
        const optionsElement = document.getElementById('options');
        const timerBar = document.getElementById('timer-bar');
        const streakElement = document.getElementById('streak');
        const questionCounterElement = document.getElementById('question-counter');
        const restartBtn = document.getElementById('restart-btn');
        const newGameBtn = document.getElementById('new-game-btn');
        const wrongQuestionsElement = document.getElementById('wrong-questions');
        const answerHistoryBody = document.getElementById('answer-history-body');
        const quizTitleElement = document.getElementById('quiz-title');
        const loginTitleElement = document.getElementById('login-title');
        
        const testU1U3Btn = document.getElementById('test-u1-u3-btn');
        const testU4U6Btn = document.getElementById('test-u4-u6-btn');
        const testU1U6Btn = document.getElementById('test-u1-u6-btn');
        const testU7U9Btn = document.getElementById('test-u7-u9-btn');
        const testU10U12Btn = document.getElementById('test-u10-u12-btn');
        const testU7U12Btn = document.getElementById('test-u7-u12-btn');
        const testOverallBtn = document.getElementById('test-overall-btn');
        
        function initQuestionCountOptions() {
            const currentUnitQuestions = allQuestions[currentGrade][currentUnit];
            const totalQuestions = currentUnitQuestions.length;
            questionCountSelect.innerHTML = '';
            addOption(10, '10 câu');
            addOption(20, '20 câu');
            addOption(30, '30 câu');
            if (totalQuestions >= 40) addOption(40, '40 câu');
            if (totalQuestions >= 50) addOption(50, '50 câu');
            addOption(totalQuestions, `Tất cả (${totalQuestions} câu)`);
            questionCountSelect.value = totalQuestions >= 20 ? "20" : "10";
        }
        
        function addOption(value, text) {
            const option = document.createElement('option');
            option.value = value;
            option.textContent = text;
            questionCountSelect.appendChild(option);
        }
        
        function initUnitSelectOptions() {
            unitSelect.innerHTML = '';
            const units = unitTitles[currentGrade];
            for (const unitCode in units) {
                const option = document.createElement('option');
                option.value = unitCode;
                option.textContent = units[unitCode];
                unitSelect.appendChild(option);
            }
            currentUnit = unitSelect.value;
        }
        
        grade6Btn.addEventListener('click', () => selectGrade('E6'));
        grade7Btn.addEventListener('click', () => selectGrade('E7'));
        grade8Btn.addEventListener('click', () => selectGrade('E8'));
        grade9Btn.addEventListener('click', () => selectGrade('E9'));
        startBtn.addEventListener('click', startGame);
        restartBtn.addEventListener('click', restartGame);
        newGameBtn.addEventListener('click', newGame);
        backToGradeBtn.addEventListener('click', backToGrade);
        unitSelect.addEventListener('change', updateCurrentUnit);
        
        testU1U3Btn.addEventListener('click', () => startTest('U1-U3'));
        testU4U6Btn.addEventListener('click', () => startTest('U4-U6'));
        testU1U6Btn.addEventListener('click', () => startTest('U1-U6'));
        testU7U9Btn.addEventListener('click', () => startTest('U7-U9'));
        testU10U12Btn.addEventListener('click', () => startTest('U10-U12'));
        testU7U12Btn.addEventListener('click', () => startTest('U7-U12'));
        testOverallBtn.addEventListener('click', () => startTest('OVERALL'));
        
        function startTest(testType) {
            username = usernameInput.value.trim();
            if (!username) { alert("Vui lòng nhập tên của bạn!"); return; }
            
            currentTestType = testType;
            questionCount = 40;
            selectedQuestions = getQuestionsForTestType(testType);
            const actualQuestionCount = Math.min(questionCount, selectedQuestions.length);
            if (actualQuestionCount < 10) { alert(`Không đủ câu hỏi. Chỉ có ${actualQuestionCount} câu hỏi.`); return; }
            if (selectedQuestions.length > actualQuestionCount) selectedQuestions = getRandomQuestions(selectedQuestions, actualQuestionCount);
            
            const testTitle = testTypeTitles[testType];
            quizTitleElement.textContent = `${testTitle} - ${currentGrade}`;
            
            currentQuestionIndex = 0; score = 0; streak = 0; maxStreak = 0; totalTime = 0;
            questionTimes = []; wrongQuestions = []; answerHistory = []; selectedOptions = Array(selectedQuestions.length).fill(null);
            startTime = new Date();
            
            loginScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            showQuestion();
        }
        
        function getQuestionsForTestType(testType) {
            let allQuestionsForTest = [];
            const gradeQuestions = allQuestions[currentGrade];
            let unitRange = [];
            switch(testType) {
                case 'U1-U3': unitRange = [1, 2, 3]; break;
                case 'U4-U6': unitRange = [4, 5, 6]; break;
                case 'U1-U6': unitRange = [1, 2, 3, 4, 5, 6]; break;
                case 'U7-U9': unitRange = [7, 8, 9]; break;
                case 'U10-U12': unitRange = [10, 11, 12]; break;
                case 'U7-U12': unitRange = [7, 8, 9, 10, 11, 12]; break;
                case 'OVERALL': unitRange = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; break;
                default: unitRange = [];
            }
            unitRange.forEach(unitNum => {
                const unitKey = `${currentGrade}U${unitNum}`;
                if (gradeQuestions[unitKey]) {
                    const questionsWithCode = gradeQuestions[unitKey].map(q => ({...q, unitCode: unitKey}));
                    allQuestionsForTest = allQuestionsForTest.concat(questionsWithCode);
                }
            });
            return allQuestionsForTest;
        }
        
        function selectGrade(grade) {
            currentGrade = grade;
            currentTestType = "single-unit";
            gradeScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
            loginTitleElement.textContent = `BÀI TẬP TIẾNG ANH ${grade} GS`;
            initUnitSelectOptions();
            initQuestionCountOptions();
        }
        
        function backToGrade() {
            loginScreen.classList.add('hidden');
            gradeScreen.classList.remove('hidden');
        }
        
        function updateCurrentUnit() {
            currentUnit = unitSelect.value;
            currentTestType = "single-unit";
            initQuestionCountOptions();
        }
        
        function startGame() {
            username = usernameInput.value.trim();
            if (!username) { alert("Vui lòng nhập tên của bạn!"); return; }
            currentTestType = "single-unit";
            questionCount = parseInt(questionCountSelect.value);
            currentUnit = unitSelect.value;
            
            const rawQuestions = allQuestions[currentGrade][currentUnit];
            const currentUnitQuestions = rawQuestions.map(q => ({...q, unitCode: currentUnit}));
            
            if (questionCount < 10 || questionCount > currentUnitQuestions.length) {
                alert(`Vui lòng chọn số câu hỏi từ 10 đến ${currentUnitQuestions.length}`);
                return;
            }
            selectedQuestions = getRandomQuestions(currentUnitQuestions, questionCount);
            const unitTitle = unitTitles[currentGrade][currentUnit];
            quizTitleElement.textContent = unitTitle;
            
            currentQuestionIndex = 0; score = 0; streak = 0; maxStreak = 0; totalTime = 0;
            questionTimes = []; wrongQuestions = []; answerHistory = []; selectedOptions = Array(selectedQuestions.length).fill(null);
            startTime = new Date();
            
            loginScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            showQuestion();
        }
        
        function getRandomQuestions(questionBank, n) {
            const shuffled = [...questionBank];
            shuffleArray(shuffled);
            return shuffled.slice(0, n);
        }
        
        function showQuestion() {
            if (currentQuestionIndex >= selectedQuestions.length) { endGame(); return; }
            const question = selectedQuestions[currentQuestionIndex];
            currentWord = question.word;
            wordElement.textContent = question.word;
            questionCounterElement.textContent = `Câu ${currentQuestionIndex + 1}/${selectedQuestions.length}`;
            optionsElement.innerHTML = '';
            const options = [question.correct, question.wrong1, question.wrong2, question.wrong3];
            shuffleArray(options);
            options.forEach((option, index) => {
                if (option) {
                    const optionButton = document.createElement('div');
                    optionButton.classList.add('option');
                    optionButton.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                    optionButton.addEventListener('click', () => selectOption(option, question.correct, question.id, question.word, question.unitCode));
                    optionsElement.appendChild(optionButton);
                }
            });
            startTimer();
        }
        
        function startTimer() {
            timeLeft = 15;
            timerBar.style.width = '100%';
            timerBar.style.backgroundColor = '#FFD700';
            timer = setInterval(() => {
                timeLeft -= 0.1;
                timerBar.style.width = `${(timeLeft / 15) * 100}%`;
                if (timeLeft <= 5) timerBar.style.backgroundColor = '#FF6347';
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    questionTimes.push(15);
                    totalTime += 15;
                    const currentQ = selectedQuestions[currentQuestionIndex];
                    handleAnswer(false, currentQ.id, currentQ.word, "Không chọn", currentQ.unitCode);
                }
            }, 100);
        }
        
        function selectOption(selectedOption, correctAnswer, questionId, questionWord, unitCode) {
            clearInterval(timer);
            const isCorrect = selectedOption === correctAnswer;
            const timeTaken = 15 - timeLeft;
            questionTimes.push(timeTaken);
            totalTime += timeTaken;
            selectedOptions[currentQuestionIndex] = selectedOption;
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                if (option.textContent.includes(correctAnswer)) option.classList.add('correct');
                if (option.textContent.includes(selectedOption) && !isCorrect) option.classList.add('incorrect');
                option.style.pointerEvents = 'none';
            });
            setTimeout(() => { handleAnswer(isCorrect, questionId, questionWord, selectedOption, unitCode); }, 100);
        }
        
        function handleAnswer(isCorrect, questionId, questionWord, selectedOption, unitCode) {
            if (isCorrect) {
                score++;
                streak++;
                if (streak > maxStreak) maxStreak = streak;
            } else {
                streak = 0;
                wrongQuestions.push(questionId);
            }
            answerHistory.push({
                id: questionId,
                unitCode: unitCode,
                word: questionWord,
                selected: selectedOption,
                correct: getCorrectAnswer(questionId)
            });
            streakElement.textContent = `Chuỗi đúng: ${streak}`;
            currentQuestionIndex++;
            setTimeout(() => { showQuestion(); }, 400);
        }
        
        function getCorrectAnswer(questionId) {
            if (currentTestType === "single-unit") {
                return allQuestions[currentGrade][currentUnit].find(q => q.id === questionId).correct;
            }
            const question = selectedQuestions.find(q => q.id === questionId);
            return question ? question.correct : "Không tìm thấy";
        }
        
        function endGame() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            endTime = new Date();
            
            newResName.textContent = username;
            const dateOptions = { day: '2-digit', month: '2-digit', year: 'numeric' };
            newResDate.textContent = startTime.toLocaleDateString('vi-VN', dateOptions);
            
            const percentage = Math.round((score / selectedQuestions.length) * 100);
            
            let chartColor = '#f5222d';
            if (percentage >= 50 && percentage <= 69) chartColor = '#faad14';
            else if (percentage >= 70 && percentage <= 79) chartColor = '#52c41a';
            else if (percentage >= 80 && percentage <= 89) chartColor = '#13c2c2';
            else if (percentage >= 90 && percentage <= 99) chartColor = '#1890ff';
            else if (percentage === 100) chartColor = '#722ed1';
            
            newChartProgress.style.stroke = chartColor;
            newScoreCenter.style.color = chartColor;
            
            newScoreCenter.textContent = percentage + "%"; 
            newPercentCenter.textContent = `${score}/${selectedQuestions.length}`;
            
            newChartProgress.style.strokeDasharray = `${percentage} ${100 - percentage}`;
            newChartProgress.style.strokeDashoffset = '0';

            const timeOpts = { hour: '2-digit', minute: '2-digit', hour12: false };
            newResStart.textContent = startTime.toLocaleTimeString('vi-VN', timeOpts);
            newResEnd.textContent = endTime.toLocaleTimeString('vi-VN', timeOpts);
            
            newResStreak.textContent = maxStreak;
            newResTotal.textContent = totalTime.toFixed(1) + 's';

            if (currentTestType === "single-unit") {
                resultTestTypeEl.textContent = unitTitles[currentGrade][currentUnit];
            } else {
                resultTestTypeEl.textContent = testTypeTitles[currentTestType];
            }

            wrongQuestionsElement.innerHTML = '';
            if (wrongQuestions.length === 0) {
                wrongQuestionsElement.innerHTML = '<li style="color:green;">Không có câu nào làm sai</li>';
            } else {
                const wrongQuestionsInOrder = answerHistory
                    .filter(item => item.selected !== item.correct)
                    .map(item => ({
                        id: item.id,
                        unitCode: item.unitCode
                    }));
                
                wrongQuestionsInOrder.forEach(q => {
                    const li = document.createElement('li');
                    li.textContent = `${q.unitCode} - Câu ${q.id}`;
                    wrongQuestionsElement.appendChild(li);
                });
            }
            
            answerHistoryBody.innerHTML = '';
            answerHistory.forEach((item, index) => {
                const row = document.createElement('tr');
                const idCell = document.createElement('td');
                idCell.textContent = index + 1;
                row.appendChild(idCell);
                const wordCell = document.createElement('td');
                wordCell.textContent = item.word;
                row.appendChild(wordCell);
                const selectedCell = document.createElement('td');
                selectedCell.textContent = item.selected;
                if (item.selected !== item.correct) selectedCell.style.color = '#f44336';
                row.appendChild(selectedCell);
                const correctCell = document.createElement('td');
                correctCell.textContent = item.correct;
                row.appendChild(correctCell);
                answerHistoryBody.appendChild(row);
            });
        }
        
        function restartGame() {
            currentQuestionIndex = 0; score = 0; streak = 0; totalTime = 0;
            questionTimes = []; wrongQuestions = []; answerHistory = []; selectedOptions = Array(selectedQuestions.length).fill(null);
            startTime = new Date();
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            if (currentTestType === "single-unit") {
                const rawQuestions = allQuestions[currentGrade][currentUnit];
                const currentUnitQuestions = rawQuestions.map(q => ({...q, unitCode: currentUnit}));
                selectedQuestions = getRandomQuestions(currentUnitQuestions, questionCount);
            } else {
                let allQuestionsForTest = getQuestionsForTestType(currentTestType);
                selectedQuestions = getRandomQuestions(allQuestionsForTest, Math.min(40, allQuestionsForTest.length));
            }
            showQuestion();
        }
        
        function newGame() {
            resultScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>
